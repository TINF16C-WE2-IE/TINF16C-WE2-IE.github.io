webpackJsonp([2],{0:function(n,l,t){n.exports=t("cDNt")},cDNt:function(n,l,t){"use strict";function e(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,11,"button",[["class","mat-icon-button"],["id","back"],["mat-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,1).onClick()&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,kn.l,[kn.k,kn.a,[8,null],cn.R,cn.q],{routerLink:[0,"routerLink"]},null),cn._38(2,1),cn._21(3,16384,null,0,Pn.u,[],null,null),cn._21(4,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(5,16384,null,0,jn.f,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(7,0,null,0,3,"mat-icon",[["aria-label","Back to home"],["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(8,16384,null,0,Pn.u,[],null,null),cn._21(9,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["arrow_back"])),(n()(),cn._42(-1,0,["\n    "]))],function(n,l){n(l,1,0,n(l,2,0,"")),n(l,9,0)},function(n,l){n(l,0,0,cn._37(l,4).disabled||null)})}function o(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,3,"mat-icon",[["class","mat-icon"],["id","editname"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["mode_edit"]))],function(n,l){n(l,2,0)},null)}function u(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,7,"div",[["id","openDialog"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==(o.editMode&&o.openNameDialog())&&e}return e},null,null)),(n()(),cn._42(-1,null,["\n        "])),(n()(),cn._23(2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),cn._42(3,null,["",""])),(n()(),cn._42(-1,null,["\n        "])),(n()(),cn._17(16777216,null,null,1,null,o)),cn._21(6,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n    "]))],function(n,l){n(l,6,0,l.component.editMode)},function(n,l){var t=l.component;n(l,3,0,null==t.modelSvc.currentMap?null:t.modelSvc.currentMap.name)})}function r(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,14,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,1).onClick()&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,kn.l,[kn.k,kn.a,[8,null],cn.R,cn.q],{routerLink:[0,"routerLink"]},null),cn._38(2,3),cn._21(3,16384,null,0,Pn.u,[],null,null),cn._21(4,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(5,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(7,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(8,16384,null,0,Pn.u,[],null,null),cn._21(9,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["edit_mode"])),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(12,0,null,0,1,"span",[["class","toolbar-text"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["Edit map"])),(n()(),cn._42(-1,0,["\n    "]))],function(n,l){n(l,1,0,n(l,2,0,"/map",l.component.mapId,"edit")),n(l,9,0)},function(n,l){n(l,0,0,cn._37(l,4).disabled||null)})}function i(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,12,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.discardOrExit()&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(3,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(5,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(6,16384,null,0,Pn.u,[],null,null),cn._21(7,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["cancel"])),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(10,0,null,0,1,"span",[["class","toolbar-text"]],null,null,null,null,null)),(n()(),cn._42(11,null,["",""])),(n()(),cn._42(-1,0,["\n    "]))],function(n,l){n(l,7,0)},function(n,l){var t=l.component;n(l,0,0,cn._37(l,2).disabled||null);n(l,11,0,t.dirty?"Discard":"Exit")})}function a(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,12,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.saveCurrentMap()&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(3,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(5,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(6,16384,null,0,Pn.u,[],null,null),cn._21(7,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["save"])),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(10,0,null,0,1,"span",[["class","toolbar-text"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["Save"])),(n()(),cn._42(-1,0,["\n    "]))],function(n,l){n(l,7,0)},function(n,l){n(l,0,0,cn._37(l,2).disabled||null)})}function s(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,12,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.openPublishDialog()&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(3,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(5,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(6,16384,null,0,Pn.u,[],null,null),cn._21(7,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["share"])),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(10,0,null,0,1,"span",[["class","toolbar-text"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["Publish"])),(n()(),cn._42(-1,0,["\n    "]))],function(n,l){n(l,7,0)},function(n,l){n(l,0,0,cn._37(l,2).disabled||null)})}function c(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,12,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.openDeleteDialog()&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(3,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(5,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(6,16384,null,0,Pn.u,[],null,null),cn._21(7,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["delete_forever"])),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(10,0,null,0,1,"span",[["class","toolbar-text"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["Delete map"])),(n()(),cn._42(-1,0,["\n    "]))],function(n,l){n(l,7,0)},function(n,l){n(l,0,0,cn._37(l,2).disabled||null)})}function p(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n        "])),(n()(),cn._23(2,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""],["role","menuitem"]],[[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==cn._37(n,3)._checkDisabled(t)&&e}if("mouseenter"===l){e=!1!==cn._37(n,3)._emitHoverEvent()&&e}if("click"===l){e=!1!==o.userSvc.login("nubenum")&&e}return e},Tn.c,Tn.b)),cn._21(3,180224,[[2,4]],0,Ln.d,[cn.q],null,null),(n()(),cn._42(-1,0,["Nubenum"])),(n()(),cn._42(-1,null,["\n        "])),(n()(),cn._23(6,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""],["role","menuitem"]],[[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==cn._37(n,7)._checkDisabled(t)&&e}if("mouseenter"===l){e=!1!==cn._37(n,7)._emitHoverEvent()&&e}if("click"===l){e=!1!==o.userSvc.login("github")&&e}return e},Tn.c,Tn.b)),cn._21(7,180224,[[2,4]],0,Ln.d,[cn.q],null,null),(n()(),cn._42(-1,0,["Github"])),(n()(),cn._42(-1,null,["\n    "]))],null,function(n,l){n(l,2,0,cn._37(l,3)._highlighted,cn._37(l,3)._triggersSubmenu,cn._37(l,3)._getTabIndex(),cn._37(l,3).disabled.toString(),cn._37(l,3).disabled||null);n(l,6,0,cn._37(l,7)._highlighted,cn._37(l,7)._triggersSubmenu,cn._37(l,7)._getTabIndex(),cn._37(l,7).disabled.toString(),cn._37(l,7).disabled||null)})}function d(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n        "])),(n()(),cn._23(2,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""],["role","menuitem"]],[[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==cn._37(n,3)._checkDisabled(t)&&e}if("mouseenter"===l){e=!1!==cn._37(n,3)._emitHoverEvent()&&e}if("click"===l){e=!1!==o.userSvc.logout()&&e}return e},Tn.c,Tn.b)),cn._21(3,180224,[[2,4]],0,Ln.d,[cn.q],null,null),(n()(),cn._42(-1,0,["Logout"])),(n()(),cn._42(-1,null,["\n    "]))],null,function(n,l){n(l,2,0,cn._37(l,3)._highlighted,cn._37(l,3)._triggersSubmenu,cn._37(l,3)._getTabIndex(),cn._37(l,3).disabled.toString(),cn._37(l,3).disabled||null)})}function _(n){return cn._43(0,[cn._40(402653184,1,{appMenu:0}),(n()(),cn._23(1,0,null,null,41,"mat-toolbar",[["class","mat-toolbar"],["role","toolbar"]],[[2,"mat-elevation-z6",null]],null,null,Dn.b,Dn.a)),cn._21(2,16384,null,0,Pn.u,[],null,null),cn._21(3,49152,null,0,En.a,[cn.R,cn.q],null,null),(n()(),cn._42(-1,0,["\n\n    "])),(n()(),cn._17(16777216,null,0,1,null,e)),cn._21(6,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n    "])),(n()(),cn._17(16777216,null,0,1,null,u)),cn._21(9,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n\n    "])),(n()(),cn._23(11,0,null,0,0,"span",[["class","fill-remaining-space"]],null,null,null,null,null)),(n()(),cn._42(-1,0,["\n\n\n    "])),(n()(),cn._17(16777216,null,0,1,null,r)),cn._21(14,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n\n    "])),(n()(),cn._17(16777216,null,0,1,null,i)),cn._21(17,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n    "])),(n()(),cn._17(16777216,null,0,1,null,a)),cn._21(20,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n    "])),(n()(),cn._17(16777216,null,0,1,null,s)),cn._21(23,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n    "])),(n()(),cn._17(16777216,null,0,1,null,c)),cn._21(26,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n\n    "])),(n()(),cn._23(28,16777216,null,0,13,"button",[["aria-haspopup","true"],["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(n,l,t){var e=!0;if("mousedown"===l){e=!1!==cn._37(n,32)._handleMousedown(t)&&e}if("keydown"===l){e=!1!==cn._37(n,32)._handleKeydown(t)&&e}if("click"===l){e=!1!==cn._37(n,32)._handleClick(t)&&e}return e},Mn.b,Mn.a)),cn._21(29,16384,null,0,Pn.u,[],null,null),cn._21(30,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(31,16384,null,0,jn.c,[],null,null),cn._21(32,1196032,null,0,Ln.f,[An.b,cn.q,cn._5,Ln.b,[2,Ln.c],[8,null],[2,zn.c]],{menu:[0,"menu"]},null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(34,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(35,16384,null,0,Pn.u,[],null,null),cn._21(36,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["account_box"])),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(39,0,null,0,1,"span",[["class","toolbar-text"]],null,null,null,null,null)),(n()(),cn._42(40,null,["",""])),(n()(),cn._42(-1,0,["\n    "])),(n()(),cn._42(-1,0,["\n\n"])),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._23(44,0,null,null,10,"mat-menu",[],null,null,null,Tn.d,Tn.a)),cn._21(45,16384,null,0,Pn.u,[],null,null),cn._21(46,1228800,[[1,4],["appMenu",4]],1,Ln.c,[cn.q,cn.J,Ln.a],{overlapTrigger:[0,"overlapTrigger"]},null),cn._40(603979776,2,{items:1}),(n()(),cn._42(-1,0,["\n\n    "])),(n()(),cn._17(16777216,null,0,1,null,p)),cn._21(50,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n    "])),(n()(),cn._17(16777216,null,0,1,null,d)),cn._21(53,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n"])),(n()(),cn._42(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,6,0,t.hasMap);n(l,9,0,t.hasMap);n(l,14,0,t.hasMap&&t.canEdit&&!t.editMode);n(l,17,0,t.hasMap&&t.editMode);n(l,20,0,t.hasMap&&t.editMode);n(l,23,0,t.hasMap&&t.editMode);n(l,26,0,t.hasMap&&t.editMode);n(l,32,0,cn._37(l,46)),n(l,36,0);n(l,46,0,!1);n(l,50,0,!t.userSvc.isLoggedIn);n(l,53,0,t.userSvc.isLoggedIn)},function(n,l){var t=l.component;n(l,1,0,t.elevated);n(l,28,0,cn._37(l,30).disabled||null);n(l,40,0,t.userSvc.userName)})}function f(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(2,0,null,null,3,"mat-divider",[["aria-orientation","horizontal"],["class","mat-divider"],["role","separator"]],null,null,null,null,null)),cn._21(3,16384,null,0,Pn.u,[],null,null),cn._21(4,16384,null,0,_l.c,[],null,null),cn._21(5,16384,null,0,_l.a,[],null,null),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(7,0,null,null,7,"mat-list-item",[["class","mat-list-item"],["role","listitem"]],null,[[null,"click"],[null,"focus"],[null,"blur"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,8).onClick()&&e}if("focus"===l){e=!1!==cn._37(n,11)._handleFocus()&&e}if("blur"===l){e=!1!==cn._37(n,11)._handleBlur()&&e}return e},fl.c,fl.b)),cn._21(8,16384,null,0,kn.l,[kn.k,kn.a,[8,null],cn.R,cn.q],{routerLink:[0,"routerLink"]},null),cn._38(9,2),cn._21(10,16384,null,0,Pn.u,[],null,null),cn._21(11,1097728,null,2,_l.d,[cn.R,cn.q,[2,_l.b],[2,_l.h]],null,null),cn._40(603979776,1,{_lines:1}),cn._40(335544320,2,{_hasAvatar:0}),(n()(),cn._42(14,2,["",""])),(n()(),cn._42(-1,null,["\n        "]))],function(n,l){n(l,8,0,n(l,9,0,"/map",""+l.context.$implicit.id))},function(n,l){n(l,14,0,l.context.$implicit.name)})}function h(n){return cn._43(0,[(n()(),cn._23(0,16777216,null,null,12,"button",[["class","fab mat-fab"],["mat-fab",""],["matTooltip","Create a new map"]],[[8,"disabled",0]],[[null,"click"],[null,"longpress"],[null,"focus"],[null,"blur"],[null,"keydown"],[null,"touchend"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,1).onClick()&&e}if("longpress"===l){e=!1!==cn._37(n,6).show()&&e}if("focus"===l){e=!1!==cn._37(n,6).show()&&e}if("blur"===l){e=!1!==cn._37(n,6).hide(0)&&e}if("keydown"===l){e=!1!==cn._37(n,6)._handleKeydown(t)&&e}if("touchend"===l){e=!1!==cn._37(n,6).hide(1500)&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,kn.l,[kn.k,kn.a,[8,null],cn.R,cn.q],{routerLink:[0,"routerLink"]},null),cn._38(2,3),cn._21(3,16384,null,0,Pn.u,[],null,null),cn._21(4,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(5,16384,null,0,jn.e,[[2,jn.b],[8,null]],null,null),cn._21(6,147456,null,0,hl.c,[cn.R,An.b,cn.q,ml.c,cn._5,cn.J,Cn.a,In.e,hl.a,[2,zn.c]],{message:[0,"message"]},null),(n()(),cn._42(-1,0,["\n            "])),(n()(),cn._23(8,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(9,16384,null,0,Pn.u,[],null,null),cn._21(10,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["add"])),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._17(0,null,null,0))],function(n,l){n(l,1,0,n(l,2,0,"/map","new","edit"));n(l,6,0,"Create a new map"),n(l,10,0)},function(n,l){n(l,0,0,cn._37(l,4).disabled||null)})}function m(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,20,"mat-card",[["class","mat-card"],["id","card"]],null,null,null,gl.b,gl.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,49152,null,0,bl.a,[],null,null),(n()(),cn._42(-1,0,["\n    "])),(n()(),cn._23(4,0,null,0,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),cn._21(5,16384,null,0,Pn.u,[],null,null),cn._21(6,16384,null,0,bl.d,[],null,null),(n()(),cn._42(-1,null,["Maps"])),(n()(),cn._42(-1,0,["\n    "])),(n()(),cn._23(9,0,null,0,10,"mat-nav-list",[["class","mat-nav-list"],["role","list"]],null,null,null,fl.d,fl.a)),cn._21(10,16384,null,0,Pn.u,[],null,null),cn._21(11,49152,null,0,_l.b,[],null,null),cn._21(12,16384,null,0,_l.h,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._17(16777216,null,0,1,null,f)),cn._21(15,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._17(16777216,null,0,1,null,h)),cn._21(18,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n    "])),(n()(),cn._42(-1,0,["\n"])),(n()(),cn._42(-1,null,["\n\n"]))],function(n,l){var t=l.component;n(l,15,0,t.maps);n(l,18,0,t.isLoggedIn)},null)}function g(n){return cn._43(0,[cn._40(402653184,1,{appMenu:0}),(n()(),cn._23(1,0,null,null,1,"app-toolbar",[],null,null,null,_,dl)),cn._21(2,114688,null,0,sl,[Zn,vn,kn.k,kn.a,al,cl.d,cl.d,cl.d],{elevated:[0,"elevated"],editMode:[1,"editMode"]},null),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._23(4,0,null,null,0,"img",[["id","icon"],["src","../../assets/icons/logo.svg"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._23(6,0,null,null,3,"h1",[],null,null,null,null,null)),(n()(),cn._23(7,0,null,null,1,"span",[["id","innerTitle"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["The Indoor"])),(n()(),cn._42(-1,null,[" Explorer"])),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._23(11,0,null,null,1,"app-map-list",[],null,null,null,m,xl)),cn._21(12,114688,null,0,yl,[Zn,vn],null,null),(n()(),cn._42(-1,null,["\n"]))],function(n,l){n(l,2,0,l.component.isScrolled,!1),n(l,12,0)},null)}function b(n){return n&&void 0!==n.label}function y(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,19,"mat-form-field",[["class","mat-input-container mat-form-field"],["id","search-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,kl.b,kl.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,7389184,null,6,Pl.a,[cn.q,cn.R,cn.j,[2,Pn.k]],null,null),cn._40(335544320,1,{_control:0}),cn._40(335544320,2,{_placeholderChild:0}),cn._40(603979776,3,{_errorChildren:1}),cn._40(603979776,4,{_hintChildren:1}),cn._40(603979776,5,{_prefixChildren:1}),cn._40(603979776,6,{_suffixChildren:1}),(n()(),cn._42(-1,1,["\n    "])),(n()(),cn._23(10,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,t){var e=!0,o=n.component;if("input"===l){e=!1!==cn._37(n,11)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,11).onTouched()&&e}if("compositionstart"===l){e=!1!==cn._37(n,11)._compositionStart()&&e}if("compositionend"===l){e=!1!==cn._37(n,11)._compositionEnd(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,17)._focusChanged(!1)&&e}if("focus"===l){e=!1!==cn._37(n,17)._focusChanged(!0)&&e}if("input"===l){e=!1!==cn._37(n,17)._onInput()&&e}if("ngModelChange"===l){e=!1!==(o.searchQuery=t)&&e}if("keyup"===l){e=!1!==o.search(o.searchQuery)&&e}return e},null,null)),cn._21(11,16384,null,0,jl.c,[cn.R,cn.q,[2,jl.a]],null,null),cn._39(1024,null,jl.g,function(n){return[n]},[jl.c]),cn._21(13,671744,null,0,jl.k,[[8,null],[8,null],[8,null],[2,jl.g]],{model:[0,"model"]},{update:"ngModelChange"}),cn._39(2048,null,jl.h,null,[jl.k]),cn._21(15,16384,null,0,jl.i,[jl.h],null,null),cn._21(16,16384,null,0,Pn.u,[],null,null),cn._21(17,933888,null,0,Cl.a,[cn.q,cn.R,Cn.a,[2,jl.h],[2,jl.j],[2,jl.d],Pn.e],{placeholder:[0,"placeholder"],type:[1,"type"]},null),cn._39(2048,[[1,4]],Pl.b,null,[Cl.a]),(n()(),cn._42(-1,1,["\n"]))],function(n,l){var t=l.component;n(l,13,0,t.searchQuery);n(l,17,0,t.selectedObjects.length?"Startpoint...":"Search...","text")},function(n,l){n(l,0,1,[cn._37(l,2)._control.errorState,cn._37(l,2)._control.errorState,cn._37(l,2)._canPlaceholderFloat,cn._37(l,2)._control.shouldPlaceholderFloat||cn._37(l,2)._shouldAlwaysFloat,cn._37(l,2)._control.focused,"primary"==cn._37(l,2).color,"accent"==cn._37(l,2).color,"warn"==cn._37(l,2).color,cn._37(l,2)._shouldForward("untouched"),cn._37(l,2)._shouldForward("touched"),cn._37(l,2)._shouldForward("pristine"),cn._37(l,2)._shouldForward("dirty"),cn._37(l,2)._shouldForward("valid"),cn._37(l,2)._shouldForward("invalid"),cn._37(l,2)._shouldForward("pending")]);n(l,10,1,[cn._37(l,15).ngClassUntouched,cn._37(l,15).ngClassTouched,cn._37(l,15).ngClassPristine,cn._37(l,15).ngClassDirty,cn._37(l,15).ngClassValid,cn._37(l,15).ngClassInvalid,cn._37(l,15).ngClassPending,cn._37(l,17).id,cn._37(l,17).placeholder,cn._37(l,17).disabled,cn._37(l,17).required,cn._37(l,17).readonly,cn._37(l,17)._ariaDescribedby||null,cn._37(l,17).errorState])})}function v(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,19,"mat-form-field",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,kl.b,kl.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,7389184,null,6,Pl.a,[cn.q,cn.R,cn.j,[2,Pn.k]],null,null),cn._40(335544320,7,{_control:0}),cn._40(335544320,8,{_placeholderChild:0}),cn._40(603979776,9,{_errorChildren:1}),cn._40(603979776,10,{_hintChildren:1}),cn._40(603979776,11,{_prefixChildren:1}),cn._40(603979776,12,{_suffixChildren:1}),(n()(),cn._42(-1,1,["\n    "])),(n()(),cn._23(10,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["disabled",""],["incremental",""],["matInput",""],["name","search"],["placeholder","Startpoint... "],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,t){var e=!0;if("input"===l){e=!1!==cn._37(n,11)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,11).onTouched()&&e}if("compositionstart"===l){e=!1!==cn._37(n,11)._compositionStart()&&e}if("compositionend"===l){e=!1!==cn._37(n,11)._compositionEnd(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,17)._focusChanged(!1)&&e}if("focus"===l){e=!1!==cn._37(n,17)._focusChanged(!0)&&e}if("input"===l){e=!1!==cn._37(n,17)._onInput()&&e}return e},null,null)),cn._21(11,16384,null,0,jl.c,[cn.R,cn.q,[2,jl.a]],null,null),cn._39(1024,null,jl.g,function(n){return[n]},[jl.c]),cn._21(13,671744,null,0,jl.k,[[8,null],[8,null],[8,null],[2,jl.g]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},null),cn._39(2048,null,jl.h,null,[jl.k]),cn._21(15,16384,null,0,jl.i,[jl.h],null,null),cn._21(16,16384,null,0,Pn.u,[],null,null),cn._21(17,933888,null,0,Cl.a,[cn.q,cn.R,Cn.a,[2,jl.h],[2,jl.j],[2,jl.d],Pn.e],{disabled:[0,"disabled"],placeholder:[1,"placeholder"],type:[2,"type"]},null),cn._39(2048,[[7,4]],Pl.b,null,[Cl.a]),(n()(),cn._42(-1,1,["\n"]))],function(n,l){n(l,13,0,"search","",l.component.selectedObjects[1].label);n(l,17,0,"","Startpoint... ","search")},function(n,l){n(l,0,1,[cn._37(l,2)._control.errorState,cn._37(l,2)._control.errorState,cn._37(l,2)._canPlaceholderFloat,cn._37(l,2)._control.shouldPlaceholderFloat||cn._37(l,2)._shouldAlwaysFloat,cn._37(l,2)._control.focused,"primary"==cn._37(l,2).color,"accent"==cn._37(l,2).color,"warn"==cn._37(l,2).color,cn._37(l,2)._shouldForward("untouched"),cn._37(l,2)._shouldForward("touched"),cn._37(l,2)._shouldForward("pristine"),cn._37(l,2)._shouldForward("dirty"),cn._37(l,2)._shouldForward("valid"),cn._37(l,2)._shouldForward("invalid"),cn._37(l,2)._shouldForward("pending")]);n(l,10,1,[cn._37(l,15).ngClassUntouched,cn._37(l,15).ngClassTouched,cn._37(l,15).ngClassPristine,cn._37(l,15).ngClassDirty,cn._37(l,15).ngClassValid,cn._37(l,15).ngClassInvalid,cn._37(l,15).ngClassPending,cn._37(l,17).id,cn._37(l,17).placeholder,cn._37(l,17).disabled,cn._37(l,17).required,cn._37(l,17).readonly,cn._37(l,17)._ariaDescribedby||null,cn._37(l,17).errorState])})}function x(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,19,"mat-form-field",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,kl.b,kl.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,7389184,null,6,Pl.a,[cn.q,cn.R,cn.j,[2,Pn.k]],null,null),cn._40(335544320,13,{_control:0}),cn._40(335544320,14,{_placeholderChild:0}),cn._40(603979776,15,{_errorChildren:1}),cn._40(603979776,16,{_hintChildren:1}),cn._40(603979776,17,{_prefixChildren:1}),cn._40(603979776,18,{_suffixChildren:1}),(n()(),cn._42(-1,1,["\n    "])),(n()(),cn._23(10,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["disabled",""],["incremental",""],["matInput",""],["name","search"],["placeholder","Endpoint... "],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,t){var e=!0;if("input"===l){e=!1!==cn._37(n,11)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,11).onTouched()&&e}if("compositionstart"===l){e=!1!==cn._37(n,11)._compositionStart()&&e}if("compositionend"===l){e=!1!==cn._37(n,11)._compositionEnd(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,17)._focusChanged(!1)&&e}if("focus"===l){e=!1!==cn._37(n,17)._focusChanged(!0)&&e}if("input"===l){e=!1!==cn._37(n,17)._onInput()&&e}return e},null,null)),cn._21(11,16384,null,0,jl.c,[cn.R,cn.q,[2,jl.a]],null,null),cn._39(1024,null,jl.g,function(n){return[n]},[jl.c]),cn._21(13,671744,null,0,jl.k,[[8,null],[8,null],[8,null],[2,jl.g]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},null),cn._39(2048,null,jl.h,null,[jl.k]),cn._21(15,16384,null,0,jl.i,[jl.h],null,null),cn._21(16,16384,null,0,Pn.u,[],null,null),cn._21(17,933888,null,0,Cl.a,[cn.q,cn.R,Cn.a,[2,jl.h],[2,jl.j],[2,jl.d],Pn.e],{disabled:[0,"disabled"],placeholder:[1,"placeholder"],type:[2,"type"]},null),cn._39(2048,[[13,4]],Pl.b,null,[Cl.a]),(n()(),cn._42(-1,1,["\n"]))],function(n,l){n(l,13,0,"search","",l.component.selectedObjects[0].label);n(l,17,0,"","Endpoint... ","search")},function(n,l){n(l,0,1,[cn._37(l,2)._control.errorState,cn._37(l,2)._control.errorState,cn._37(l,2)._canPlaceholderFloat,cn._37(l,2)._control.shouldPlaceholderFloat||cn._37(l,2)._shouldAlwaysFloat,cn._37(l,2)._control.focused,"primary"==cn._37(l,2).color,"accent"==cn._37(l,2).color,"warn"==cn._37(l,2).color,cn._37(l,2)._shouldForward("untouched"),cn._37(l,2)._shouldForward("touched"),cn._37(l,2)._shouldForward("pristine"),cn._37(l,2)._shouldForward("dirty"),cn._37(l,2)._shouldForward("valid"),cn._37(l,2)._shouldForward("invalid"),cn._37(l,2)._shouldForward("pending")]);n(l,10,1,[cn._37(l,15).ngClassUntouched,cn._37(l,15).ngClassTouched,cn._37(l,15).ngClassPristine,cn._37(l,15).ngClassDirty,cn._37(l,15).ngClassValid,cn._37(l,15).ngClassInvalid,cn._37(l,15).ngClassPending,cn._37(l,17).id,cn._37(l,17).placeholder,cn._37(l,17).disabled,cn._37(l,17).required,cn._37(l,17).readonly,cn._37(l,17)._ariaDescribedby||null,cn._37(l,17).errorState])})}function w(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,8,"button",[["class","mat-raised-button"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.onCancelClick()&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(3,16384,null,0,jn.g,[],null,null),(n()(),cn._23(4,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(5,16384,null,0,Pn.u,[],null,null),cn._21(6,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["cancel"])),(n()(),cn._42(-1,0,[" Clear"]))],function(n,l){n(l,6,0)},function(n,l){n(l,0,0,cn._37(l,2).disabled||null)})}function O(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,2,"h3",[["class","mat-subheader"],["mat-subheader",""]],null,null,null,null,null)),cn._21(1,16384,null,0,_l.g,[],null,null),(n()(),cn._42(2,null,["",""]))],null,function(n,l){n(l,2,0,l.parent.context.$implicit.label.length?l.parent.context.$implicit.label:l.parent.context.index+1)})}function S(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,5,"mat-list-item",[["class","mat-list-item"],["role","listitem"]],null,[[null,"click"],[null,"focus"],[null,"blur"]],function(n,l,t){var e=!0,o=n.component;if("focus"===l){e=!1!==cn._37(n,2)._handleFocus()&&e}if("blur"===l){e=!1!==cn._37(n,2)._handleBlur()&&e}if("click"===l){e=!1!==o.selectWaypoint(n.context.$implicit)&&e}return e},fl.c,fl.b)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,1097728,null,2,_l.d,[cn.R,cn.q,[2,_l.b],[2,_l.h]],null,null),cn._40(603979776,19,{_lines:1}),cn._40(335544320,20,{_hasAvatar:0}),(n()(),cn._42(5,2,["",""]))],null,function(n,l){n(l,5,0,l.context.$implicit.label)})}function M(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,7,"span",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._17(16777216,null,null,1,null,O)),cn._21(3,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._17(16777216,null,null,1,null,S)),cn._21(6,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,null,["\n    "]))],function(n,l){n(l,3,0,l.context.$implicit.searchResults.length);n(l,6,0,l.context.$implicit.searchResults)},null)}function k(n){return cn._43(0,[(n()(),cn._17(16777216,null,null,1,null,y)),cn._21(1,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._23(3,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._17(16777216,null,null,1,null,v)),cn._21(6,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._17(16777216,null,null,1,null,x)),cn._21(9,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._17(16777216,null,null,1,null,w)),cn._21(12,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n\n\n"])),(n()(),cn._23(14,0,null,null,7,"mat-nav-list",[["class","mat-nav-list"],["role","list"]],null,null,null,fl.d,fl.a)),cn._21(15,16384,null,0,Pn.u,[],null,null),cn._21(16,49152,null,0,_l.b,[],null,null),cn._21(17,16384,null,0,_l.h,[],null,null),(n()(),cn._42(-1,0,["\n    "])),(n()(),cn._17(16777216,null,0,1,null,M)),cn._21(20,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,0,["\n"])),(n()(),cn._42(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,1,0,t.selectedObjects.length<2);n(l,6,0,2===t.selectedObjects.length);n(l,9,0,t.selectedObjects.length);n(l,12,0,t.selectedObjects.length);n(l,20,0,t.floors)},null)}function P(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,8,"button",[["class","tool-button mat-button"],["mat-button",""]],[[2,"mat-raised-button",null],[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.selectTool(n.context.$implicit.name)&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(3,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(5,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(6,16384,null,0,Pn.u,[],null,null),cn._21(7,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],{svgIcon:[0,"svgIcon"]},null),(n()(),cn._42(8,0,["\n        ","\n    "]))],function(n,l){n(l,7,0,l.context.$implicit.icon)},function(n,l){var t=l.component;n(l,0,0,l.context.$implicit===t.selectedTool,cn._37(l,2).disabled||null);n(l,8,0,l.context.$implicit.name)})}function j(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"h2",[["class","mat-h2"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["Toolbox"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._23(3,0,null,null,4,"p",[["class","tool-buttons"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._17(16777216,null,null,1,null,P)),cn._21(6,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._23(9,0,null,null,17,"p",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(11,0,[["fileUploadButton",1]],null,0,"input",[["accept","image/*"],["id","img-upload"],["name","bgimg"],["style","display: none"],["type","file"]],null,[[null,"change"]],function(n,l,t){var e=!0,o=n.component;if("change"===l){e=!1!==o.changeBackgroundImage(cn._37(n,11).files.item(0))&&e}return e},null,null)),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(13,0,null,null,12,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,11).click()&&e}return e},Mn.b,Mn.a)),cn._21(14,16384,null,0,Pn.u,[],null,null),cn._21(15,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(16,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(18,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(19,16384,null,0,Pn.u,[],null,null),cn._21(20,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["add_a_photo"])),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(23,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["Add image"])),(n()(),cn._42(-1,0,["\n    "])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n"]))],function(n,l){n(l,6,0,l.component.tools),n(l,20,0)},function(n,l){n(l,13,0,cn._37(l,15).disabled||null)})}function C(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,19,"mat-form-field",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,kl.b,kl.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,7389184,null,6,Pl.a,[cn.q,cn.R,cn.j,[2,Pn.k]],null,null),cn._40(335544320,1,{_control:0}),cn._40(335544320,2,{_placeholderChild:0}),cn._40(603979776,3,{_errorChildren:1}),cn._40(603979776,4,{_hintChildren:1}),cn._40(603979776,5,{_prefixChildren:1}),cn._40(603979776,6,{_suffixChildren:1}),(n()(),cn._42(-1,1,["\n    "])),(n()(),cn._23(10,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","floorname"],["placeholder","Floor Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,t){var e=!0,o=n.component;if("input"===l){e=!1!==cn._37(n,11)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,11).onTouched()&&e}if("compositionstart"===l){e=!1!==cn._37(n,11)._compositionStart()&&e}if("compositionend"===l){e=!1!==cn._37(n,11)._compositionEnd(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,17)._focusChanged(!1)&&e}if("focus"===l){e=!1!==cn._37(n,17)._focusChanged(!0)&&e}if("input"===l){e=!1!==cn._37(n,17)._onInput()&&e}if("ngModelChange"===l){e=!1!==(o.currentFloor.label=t)&&e}if("change"===l){e=!1!==o.markDirty()&&e}return e},null,null)),cn._21(11,16384,null,0,jl.c,[cn.R,cn.q,[2,jl.a]],null,null),cn._39(1024,null,jl.g,function(n){return[n]},[jl.c]),cn._21(13,671744,null,0,jl.k,[[8,null],[8,null],[8,null],[2,jl.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),cn._39(2048,null,jl.h,null,[jl.k]),cn._21(15,16384,null,0,jl.i,[jl.h],null,null),cn._21(16,16384,null,0,Pn.u,[],null,null),cn._21(17,933888,null,0,Cl.a,[cn.q,cn.R,Cn.a,[2,jl.h],[2,jl.j],[2,jl.d],Pn.e],{placeholder:[0,"placeholder"]},null),cn._39(2048,[[1,4]],Pl.b,null,[Cl.a]),(n()(),cn._42(-1,1,["\n"]))],function(n,l){n(l,13,0,"floorname",l.component.currentFloor.label);n(l,17,0,"Floor Name")},function(n,l){n(l,0,1,[cn._37(l,2)._control.errorState,cn._37(l,2)._control.errorState,cn._37(l,2)._canPlaceholderFloat,cn._37(l,2)._control.shouldPlaceholderFloat||cn._37(l,2)._shouldAlwaysFloat,cn._37(l,2)._control.focused,"primary"==cn._37(l,2).color,"accent"==cn._37(l,2).color,"warn"==cn._37(l,2).color,cn._37(l,2)._shouldForward("untouched"),cn._37(l,2)._shouldForward("touched"),cn._37(l,2)._shouldForward("pristine"),cn._37(l,2)._shouldForward("dirty"),cn._37(l,2)._shouldForward("valid"),cn._37(l,2)._shouldForward("invalid"),cn._37(l,2)._shouldForward("pending")]);n(l,10,1,[cn._37(l,15).ngClassUntouched,cn._37(l,15).ngClassTouched,cn._37(l,15).ngClassPristine,cn._37(l,15).ngClassDirty,cn._37(l,15).ngClassValid,cn._37(l,15).ngClassInvalid,cn._37(l,15).ngClassPending,cn._37(l,17).id,cn._37(l,17).placeholder,cn._37(l,17).disabled,cn._37(l,17).required,cn._37(l,17).readonly,cn._37(l,17)._ariaDescribedby||null,cn._37(l,17).errorState])})}function I(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,19,"mat-form-field",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,kl.b,kl.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,7389184,null,6,Pl.a,[cn.q,cn.R,cn.j,[2,Pn.k]],null,null),cn._40(335544320,7,{_control:0}),cn._40(335544320,8,{_placeholderChild:0}),cn._40(603979776,9,{_errorChildren:1}),cn._40(603979776,10,{_hintChildren:1}),cn._40(603979776,11,{_prefixChildren:1}),cn._40(603979776,12,{_suffixChildren:1}),(n()(),cn._42(-1,1,["\n    "])),(n()(),cn._23(10,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","objname"],["placeholder","Object Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,t){var e=!0,o=n.component;if("input"===l){e=!1!==cn._37(n,11)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,11).onTouched()&&e}if("compositionstart"===l){e=!1!==cn._37(n,11)._compositionStart()&&e}if("compositionend"===l){e=!1!==cn._37(n,11)._compositionEnd(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,17)._focusChanged(!1)&&e}if("focus"===l){e=!1!==cn._37(n,17)._focusChanged(!0)&&e}if("input"===l){e=!1!==cn._37(n,17)._onInput()&&e}if("ngModelChange"===l){e=!1!==(o.singleSelectedObject.label=t)&&e}if("change"===l){e=!1!==o.markDirty()&&e}return e},null,null)),cn._21(11,16384,null,0,jl.c,[cn.R,cn.q,[2,jl.a]],null,null),cn._39(1024,null,jl.g,function(n){return[n]},[jl.c]),cn._21(13,671744,null,0,jl.k,[[8,null],[8,null],[8,null],[2,jl.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),cn._39(2048,null,jl.h,null,[jl.k]),cn._21(15,16384,null,0,jl.i,[jl.h],null,null),cn._21(16,16384,null,0,Pn.u,[],null,null),cn._21(17,933888,null,0,Cl.a,[cn.q,cn.R,Cn.a,[2,jl.h],[2,jl.j],[2,jl.d],Pn.e],{placeholder:[0,"placeholder"]},null),cn._39(2048,[[7,4]],Pl.b,null,[Cl.a]),(n()(),cn._42(-1,1,["\n"]))],function(n,l){n(l,13,0,"objname",l.component.singleSelectedObject.label);n(l,17,0,"Object Name")},function(n,l){n(l,0,1,[cn._37(l,2)._control.errorState,cn._37(l,2)._control.errorState,cn._37(l,2)._canPlaceholderFloat,cn._37(l,2)._control.shouldPlaceholderFloat||cn._37(l,2)._shouldAlwaysFloat,cn._37(l,2)._control.focused,"primary"==cn._37(l,2).color,"accent"==cn._37(l,2).color,"warn"==cn._37(l,2).color,cn._37(l,2)._shouldForward("untouched"),cn._37(l,2)._shouldForward("touched"),cn._37(l,2)._shouldForward("pristine"),cn._37(l,2)._shouldForward("dirty"),cn._37(l,2)._shouldForward("valid"),cn._37(l,2)._shouldForward("invalid"),cn._37(l,2)._shouldForward("pending")]);n(l,10,1,[cn._37(l,15).ngClassUntouched,cn._37(l,15).ngClassTouched,cn._37(l,15).ngClassPristine,cn._37(l,15).ngClassDirty,cn._37(l,15).ngClassValid,cn._37(l,15).ngClassInvalid,cn._37(l,15).ngClassPending,cn._37(l,17).id,cn._37(l,17).placeholder,cn._37(l,17).disabled,cn._37(l,17).required,cn._37(l,17).readonly,cn._37(l,17)._ariaDescribedby||null,cn._37(l,17).errorState])})}function F(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,3,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,1)._selectViaInteraction()&&e}if("keydown"===l){e=!1!==cn._37(n,1)._handleKeydown(t)&&e}return e},et.c,et.a)),cn._21(1,49152,[[19,4]],0,Pn.s,[cn.q,cn.j,[2,Pn.r]],{value:[0,"value"]},null),cn._21(2,16384,null,0,Pn.u,[],null,null),(n()(),cn._42(3,0,["\n            ","\n        "]))],function(n,l){n(l,1,0,l.context.$implicit.group)},function(n,l){var t=l.component;n(l,0,0,cn._37(l,1)._getTabIndex(),cn._37(l,1).selected,cn._37(l,1).multiple,cn._37(l,1).active,cn._37(l,1).id,cn._37(l,1).selected.toString(),cn._37(l,1).disabled.toString(),cn._37(l,1).disabled);n(l,3,0,t.getTeleporterGroupDisplayName(l.context.$implicit))})}function q(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,31,"mat-form-field",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,kl.b,kl.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,7389184,null,6,Pl.a,[cn.q,cn.R,cn.j,[2,Pn.k]],null,null),cn._40(335544320,13,{_control:0}),cn._40(335544320,14,{_placeholderChild:0}),cn._40(603979776,15,{_errorChildren:1}),cn._40(603979776,16,{_hintChildren:1}),cn._40(603979776,17,{_prefixChildren:1}),cn._40(603979776,18,{_suffixChildren:1}),(n()(),cn._42(-1,1,["\n    "])),(n()(),cn._23(10,0,null,1,20,"mat-select",[["class","mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null]],[[null,"change"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(n,l,t){var e=!0,o=n.component;if("keydown"===l){e=!1!==cn._37(n,12)._handleKeydown(t)&&e}if("focus"===l){e=!1!==cn._37(n,12)._onFocus()&&e}if("blur"===l){e=!1!==cn._37(n,12)._onBlur()&&e}if("change"===l){e=!1!==o.setTeleporterGroup(o.singleSelectedObject,t.value)&&e}return e},ot.b,ot.a)),cn._21(11,16384,null,0,Pn.u,[],null,null),cn._21(12,1294336,null,3,ut.c,[ml.g,cn.j,cn.J,Pn.e,cn.R,cn.q,[2,zn.c],[2,jl.j],[2,jl.d],[2,Pl.a],[8,null],[8,null],ut.a],{placeholder:[0,"placeholder"],value:[1,"value"]},{change:"change"}),cn._40(603979776,19,{options:1}),cn._40(603979776,20,{optionGroups:1}),cn._40(335544320,21,{customTrigger:0}),cn._39(2048,[[13,4]],Pl.b,null,[ut.c]),(n()(),cn._42(-1,1,["\n        "])),(n()(),cn._23(18,0,null,1,3,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,19)._selectViaInteraction()&&e}if("keydown"===l){e=!1!==cn._37(n,19)._handleKeydown(t)&&e}return e},et.c,et.a)),cn._21(19,49152,[[19,4]],0,Pn.s,[cn.q,cn.j,[2,Pn.r]],{value:[0,"value"]},null),cn._21(20,16384,null,0,Pn.u,[],null,null),(n()(),cn._42(-1,0,["None"])),(n()(),cn._42(-1,1,["\n        "])),(n()(),cn._23(23,0,null,1,3,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,24)._selectViaInteraction()&&e}if("keydown"===l){e=!1!==cn._37(n,24)._handleKeydown(t)&&e}return e},et.c,et.a)),cn._21(24,49152,[[19,4]],0,Pn.s,[cn.q,cn.j,[2,Pn.r]],{value:[0,"value"]},null),cn._21(25,16384,null,0,Pn.u,[],null,null),(n()(),cn._42(-1,0,["New group"])),(n()(),cn._42(-1,1,["\n        "])),(n()(),cn._17(16777216,null,1,1,null,F)),cn._21(29,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,1,["\n    "])),(n()(),cn._42(-1,1,["\n"]))],function(n,l){var t=l.component;n(l,12,0,"Connect "+(null==t.singleSelectedObject?null:t.singleSelectedObject.type),t.singleSelectedObject.group);n(l,19,0,null);n(l,24,0,void 0);n(l,29,0,t.connectibleTeleporterGroups)},function(n,l){n(l,0,1,[cn._37(l,2)._control.errorState,cn._37(l,2)._control.errorState,cn._37(l,2)._canPlaceholderFloat,cn._37(l,2)._control.shouldPlaceholderFloat||cn._37(l,2)._shouldAlwaysFloat,cn._37(l,2)._control.focused,"primary"==cn._37(l,2).color,"accent"==cn._37(l,2).color,"warn"==cn._37(l,2).color,cn._37(l,2)._shouldForward("untouched"),cn._37(l,2)._shouldForward("touched"),cn._37(l,2)._shouldForward("pristine"),cn._37(l,2)._shouldForward("dirty"),cn._37(l,2)._shouldForward("valid"),cn._37(l,2)._shouldForward("invalid"),cn._37(l,2)._shouldForward("pending")]);n(l,10,1,[cn._37(l,12).id,cn._37(l,12).tabIndex,cn._37(l,12)._ariaLabel,cn._37(l,12).ariaLabelledby,cn._37(l,12).required.toString(),cn._37(l,12).disabled.toString(),cn._37(l,12).errorState,cn._37(l,12)._optionIds,cn._37(l,12).multiple,cn._37(l,12)._ariaDescribedby||null,cn._37(l,12)._getAriaActiveDescendant(),cn._37(l,12).disabled,cn._37(l,12).errorState,cn._37(l,12).required]);n(l,18,0,cn._37(l,19)._getTabIndex(),cn._37(l,19).selected,cn._37(l,19).multiple,cn._37(l,19).active,cn._37(l,19).id,cn._37(l,19).selected.toString(),cn._37(l,19).disabled.toString(),cn._37(l,19).disabled);n(l,23,0,cn._37(l,24)._getTabIndex(),cn._37(l,24).selected,cn._37(l,24).multiple,cn._37(l,24).active,cn._37(l,24).id,cn._37(l,24).selected.toString(),cn._37(l,24).disabled.toString(),cn._37(l,24).disabled)})}function R(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"h2",[["class","mat-h2"]],null,null,null,null,null)),(n()(),cn._42(1,null,[""," Properties"])),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._17(16777216,null,null,1,null,C)),cn._21(4,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._17(16777216,null,null,1,null,I)),cn._21(7,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._17(16777216,null,null,1,null,q)),cn._21(10,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,4,0,t.currentFloor&&!t.singleSelectedObject);n(l,7,0,t.singleSelectedObject);n(l,10,0,"Stairs"==(null==t.singleSelectedObject?null:t.singleSelectedObject.type)||"Elevator"==(null==t.singleSelectedObject?null:t.singleSelectedObject.type))},function(n,l){var t=l.component;n(l,1,0,(null==t.singleSelectedObject?null:t.singleSelectedObject.type)||"Floor")})}function T(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,0,":svg:image",[["height","2000"],["opacity","0.5"],["preserveAspectRatio","xMinYMin meet"],["width","2000"],["x","0"],["y","0"]],[[1,":xlink:href",0]],null,null,null,null))],null,function(n,l){n(l,0,0,l.component.backgroundImageDataURL)})}function L(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,0,":svg:circle",[["cx","5"],["cy","5"],["r","4"],["style","stroke: none; fill:#000000;"]],null,null,null,null,null))],null,null)}function D(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,0,":svg:line",[["marker-end","url(#circle)"],["marker-start","url(#circle)"],["stroke","black"],["stroke-linecap","round"],["stroke-width","3"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null))],null,function(n,l){n(l,0,0,l.context.$implicit.p1.x,l.context.$implicit.p1.y,l.context.$implicit.p2.x,l.context.$implicit.p2.y)})}function E(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,":svg:text",[["text-anchor","middle"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(n()(),cn._42(1,null,["\n                ","\n            "]))],null,function(n,l){n(l,0,0,l.parent.context.$implicit.center.x,l.parent.context.$implicit.center.y+20);n(l,1,0,l.parent.context.$implicit.label)})}function A(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,6,":svg:g",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(2,0,null,null,0,":svg:line",[["marker-end","url(#circle)"],["marker-start","url(#circle)"],["stroke-dasharray","2, 5"],["stroke-width","10"]],[[1,"stroke",0],[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._17(16777216,null,null,1,null,E)),cn._21(5,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n        "]))],function(n,l){n(l,5,0,l.component.showLabels)},function(n,l){n(l,2,0,l.component.getSelectableColor(l.context.$implicit),l.context.$implicit.p1.x,l.context.$implicit.p1.y,l.context.$implicit.p2.x,l.context.$implicit.p2.y)})}function z(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,":svg:text",[["text-anchor","middle"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(n()(),cn._42(1,null,["\n                ","\n            "]))],null,function(n,l){n(l,0,0,l.parent.context.$implicit.center.x,l.parent.context.$implicit.center.y+20);n(l,1,0,l.parent.context.$implicit.label)})}function G(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,8,":svg:g",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(2,0,null,null,0,":svg:line",[["marker-end","url(#circle)"],["marker-start","url(#circle)"],["stroke-dasharray","2, 5"],["stroke-width","10"]],[[1,"stroke",0],[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(4,0,null,null,0,":svg:line",[["marker-end","url(#solidArrow)"],["stroke","grey"],["stroke-dasharray","4, 8"]],[[1,"stroke-width",0],[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._17(16777216,null,null,1,null,z)),cn._21(7,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n        "]))],function(n,l){n(l,7,0,l.component.showLabels)},function(n,l){n(l,2,0,l.component.getSelectableColor(l.context.$implicit),l.context.$implicit.p1.x,l.context.$implicit.p1.y,l.context.$implicit.p2.x,l.context.$implicit.p2.y);n(l,4,0,l.context.$implicit.width,l.context.$implicit.center.x,l.context.$implicit.center.y,l.context.$implicit.rearCenter.x,l.context.$implicit.rearCenter.y)})}function N(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,":svg:text",[["text-anchor","middle"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(n()(),cn._42(1,null,["\n                ","\n            "]))],null,function(n,l){n(l,0,0,l.parent.context.$implicit.center.x,l.parent.context.$implicit.center.y+20);n(l,1,0,l.parent.context.$implicit.label)})}function $(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,12,":svg:g",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(2,0,null,null,0,":svg:rect",[["fill-opacity","0.5"],["height","60"],["stroke-width","10"],["width","60"]],[[1,"stroke",0],[1,"x",0],[1,"y",0]],null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(4,0,null,null,0,":svg:line",[["stroke-width","5"]],[[1,"stroke",0],[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(6,0,null,null,0,":svg:line",[["stroke-width","5"]],[[1,"stroke",0],[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(8,0,null,null,0,":svg:circle",[["r","4"],["style","stroke: none; fill:#000000;"]],[[1,"cx",0],[1,"cy",0]],null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._17(16777216,null,null,1,null,N)),cn._21(11,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n        "]))],function(n,l){n(l,11,0,l.component.showLabels)},function(n,l){var t=l.component;n(l,2,0,t.getSelectableColor(l.context.$implicit),l.context.$implicit.center.x-30,l.context.$implicit.center.y-30);n(l,4,0,t.getSelectableColor(l.context.$implicit),l.context.$implicit.center.x-30,l.context.$implicit.center.y-30,l.context.$implicit.center.x+30,l.context.$implicit.center.y+30);n(l,6,0,t.getSelectableColor(l.context.$implicit),l.context.$implicit.center.x+30,l.context.$implicit.center.y-30,l.context.$implicit.center.x-30,l.context.$implicit.center.y+30);n(l,8,0,l.context.$implicit.center.x,l.context.$implicit.center.y)})}function U(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,0,":svg:line",[["fill","none"],["marker-end","url(#circle)"],["marker-start","url(#circle)"],["stroke","red"],["stroke-dasharray","5,8"],["stroke-linecap","round"],["stroke-linejoin","bevel"],["stroke-width","3"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null))],null,function(n,l){n(l,0,0,l.context.$implicit.p1.x,l.context.$implicit.p1.y,l.context.$implicit.p2.x,l.context.$implicit.p2.y)})}function V(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,":svg:text",[["fill","red"],["text-anchor","middle"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(n()(),cn._42(1,null,["\n                ","\n            "]))],null,function(n,l){n(l,0,0,l.parent.context.$implicit.path[l.parent.context.$implicit.path.length-1].p1.x,l.parent.context.$implicit.path[l.parent.context.$implicit.path.length-1].p1.y-20);n(l,1,0,l.parent.context.$implicit.description)})}function B(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,7,":svg:g",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._17(16777216,null,null,1,null,U)),cn._21(3,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,null,["\n\n            "])),(n()(),cn._17(16777216,null,null,1,null,V)),cn._21(6,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n        "]))],function(n,l){n(l,3,0,l.context.$implicit.path);n(l,6,0,l.context.$implicit.path.length>0)},null)}function W(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,0,":svg:circle",[["r","5"],["style","stroke:red; fill:none"]],[[1,"cx",0],[1,"cy",0]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,0,0,t.mouse.xs,t.mouse.ys)})}function Y(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,33,":svg:g",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n        "])),(n()(),cn._23(2,0,null,null,12,":svg:defs",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(4,0,null,null,4,":svg:marker",[["id","circle"],["markerHeight","10"],["markerUnits","userSpaceOnUse"],["markerWidth","10"],["refX","5"],["refY","5"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n                "])),(n()(),cn._17(16777216,null,null,1,null,L)),cn._21(7,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._42(-1,null,["\n\n            "])),(n()(),cn._23(10,0,null,null,3,":svg:marker",[["id","solidArrow"],["markerHeight","13"],["markerUnits","userSpaceOnUse"],["markerWidth","13"],["orient","auto"],["refX","2"],["refY","6"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n                "])),(n()(),cn._23(12,0,null,null,0,":svg:path",[["d","M2,2 L2,11 L10,6 L2,2"],["style","fill: grey;"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._42(-1,null,["\n        "])),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._17(16777216,null,null,1,null,D)),cn._21(17,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._17(16777216,null,null,1,null,A)),cn._21(20,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._17(16777216,null,null,1,null,G)),cn._21(23,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._17(16777216,null,null,1,null,$)),cn._21(26,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._17(16777216,null,null,1,null,B)),cn._21(29,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._17(16777216,null,null,1,null,W)),cn._21(32,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n    "]))],function(n,l){var t=l.component;n(l,7,0,t.editMode);n(l,17,0,t.currentFloor.walls);n(l,20,0,t.currentFloor.portals);n(l,23,0,t.currentFloor.stairways);n(l,26,0,t.currentFloor.elevators);n(l,29,0,t.movingPaths);n(l,32,0,null!==t.mouse.xs&&null!==t.mouse.ys)},null)}function J(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,":svg:text",[["alignment-baseline","middle"],["font-size","40"],["text-anchor","middle"],["x","50%"],["y","50%"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n        Bitte warten...\n    "]))],null,null)}function K(n){return cn._43(0,[cn._40(402653184,1,{editorCanvas:0}),(n()(),cn._23(1,0,[[1,0],["editorCanvas",1]],null,10,":svg:svg",[[":xmlns:svg","http://www.w3.org/2000/svg"],["id","editorCanvas"],["version","1.2"]],[[1,"viewBox",0],[4,"cursor",null]],[[null,"mouseup"],[null,"mousedown"],[null,"mousemove"],[null,"mouseleave"],[null,"touchend"],[null,"touchstart"],[null,"touchmove"],[null,"pinchmove"],[null,"pinchend"],[null,"wheel"]],function(n,l,t){var e=!0,o=n.component;if("mouseup"===l){e=!1!==o.mouse.onMouseUp(t)&&e}if("mousedown"===l){e=!1!==o.mouse.onMouseDown(t)&&e}if("mousemove"===l){e=!1!==o.mouse.onMouseMove(t)&&e}if("mouseleave"===l){e=!1!==o.mouse.onMouseLeave(t)&&e}if("touchend"===l){e=!1!==o.mouse.onMouseUp(t)&&e}if("touchstart"===l){e=!1!==o.mouse.onMouseDown(t)&&e}if("touchmove"===l){e=!1!==o.mouse.onMouseMove(t)&&e}if("pinchmove"===l){e=!1!==o.mouse.onPinch(t)&&e}if("pinchend"===l){e=!1!==o.mouse.onPinchEnd(t)&&e}if("wheel"===l){e=!1!==o.mouse.onWheel(t)&&e}return e},null,null)),(n()(),cn._42(-1,null,["\n\n    "])),(n()(),cn._17(16777216,null,null,1,null,T)),cn._21(4,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n\n    "])),(n()(),cn._17(16777216,null,null,1,null,Y)),cn._21(7,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n\n    "])),(n()(),cn._17(16777216,null,null,1,null,J)),cn._21(10,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,4,0,t.backgroundImageDataURL);n(l,7,0,t.currentFloor);n(l,10,0,!t.currentFloor)},function(n,l){var t=l.component;n(l,1,0,t.viewBoxString,t.tool.cursorShape)})}function X(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,3,"mat-button-toggle",[["class","mat-button-toggle"]],[[2,"mat-raised-button",null],[2,"search-result-floor",null],[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.selectFloor(n.context.index)&&e}return e},ht.b,ht.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,245760,[[1,4]],0,mt.a,[[2,mt.b],[2,mt.c],cn.j,gt.c,cn.R,cn.q,In.h],null,null),(n()(),cn._42(3,0,["\n        ","\n    "]))],function(n,l){n(l,2,0)},function(n,l){n(l,0,0,l.component.currentFloor==l.context.$implicit,l.context.$implicit.searchResults.length,!cn._37(l,2).buttonToggleGroup&&!cn._37(l,2).buttonToggleGroupMultiple,cn._37(l,2).checked,cn._37(l,2).disabled,cn._37(l,2).id);n(l,3,0,l.context.$implicit.label||"?")})}function H(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,56,"div",[["class","floor-buttons"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(2,0,null,null,9,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.createFloor()&&e}return e},Mn.b,Mn.a)),cn._21(3,16384,null,0,Pn.u,[],null,null),cn._21(4,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(5,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(7,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(8,16384,null,0,Pn.u,[],null,null),cn._21(9,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["add_circle_outline"])),(n()(),cn._42(-1,0,["\n        New floor\n    "])),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(13,0,null,null,9,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.createFloor(o.currentFloor)&&e}return e},Mn.b,Mn.a)),cn._21(14,16384,null,0,Pn.u,[],null,null),cn._21(15,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(16,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(18,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(19,16384,null,0,Pn.u,[],null,null),cn._21(20,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["control_point_duplicate"])),(n()(),cn._42(-1,0,["\n        Clone floor\n    "])),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(24,0,null,null,9,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.removeFloor(o.currentFloor)&&e}return e},Mn.b,Mn.a)),cn._21(25,16384,null,0,Pn.u,[],null,null),cn._21(26,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(27,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(29,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(30,16384,null,0,Pn.u,[],null,null),cn._21(31,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["remove_circle_outline"])),(n()(),cn._42(-1,0,["\n        Remove floor\n    "])),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(35,0,null,null,9,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.moveFloor(o.currentFloor,1)&&e}return e},Mn.b,Mn.a)),cn._21(36,16384,null,0,Pn.u,[],null,null),cn._21(37,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(38,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(40,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(41,16384,null,0,Pn.u,[],null,null),cn._21(42,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["vertical_align_top"])),(n()(),cn._42(-1,0,["\n        Move up\n    "])),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(46,0,null,null,9,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.moveFloor(o.currentFloor,-1)&&e}return e},Mn.b,Mn.a)),cn._21(47,16384,null,0,Pn.u,[],null,null),cn._21(48,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(49,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._23(51,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(52,16384,null,0,Pn.u,[],null,null),cn._21(53,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["vertical_align_bottom"])),(n()(),cn._42(-1,0,["\n        Move down\n    "])),(n()(),cn._42(-1,null,["\n"]))],function(n,l){n(l,9,0),n(l,20,0),n(l,31,0),n(l,42,0),n(l,53,0)},function(n,l){n(l,2,0,cn._37(l,4).disabled||null);n(l,13,0,cn._37(l,15).disabled||null);n(l,24,0,cn._37(l,26).disabled||null);n(l,35,0,cn._37(l,37).disabled||null);n(l,46,0,cn._37(l,48).disabled||null)})}function Z(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,8,"mat-button-toggle-group",[["class","mat-button-toggle-group"],["role","radiogroup"],["value","floors[0]"]],[[2,"mat-button-toggle-vertical",null]],null,null,null,null)),cn._39(5120,null,jl.g,function(n){return[n]},[mt.b]),cn._21(2,16384,null,0,Pn.u,[],null,null),cn._21(3,16384,[["group",4]],1,mt.b,[cn.j],{value:[0,"value"]},null),cn._40(603979776,1,{_buttonToggles:1}),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._17(16777216,null,null,1,null,X)),cn._21(7,802816,null,0,Rn.i,[cn._5,cn._0,cn.B],{ngForOf:[0,"ngForOf"]},null),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n\n\n"])),(n()(),cn._17(16777216,null,null,1,null,H)),cn._21(11,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,3,0,"floors[0]");n(l,7,0,t.floors);n(l,11,0,t.editMode)},function(n,l){n(l,0,0,cn._37(l,3).vertical)})}function Q(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-side-search",[],null,[[null,"close"]],function(n,l,t){var e=!0,o=n.component;if("close"===l){e=!1!==o.closeSidenav(t)&&e}return e},k,Ql)),cn._21(1,114688,null,0,Hl,[Zn,Xl],null,{close:"close"})],function(n,l){n(l,1,0)},null)}function nn(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-side-tools",[],null,null,null,j,tt)),cn._21(1,114688,null,0,nt,[Zn,Xl],null,null)],function(n,l){n(l,1,0)},null)}function ln(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-side-properties",[],null,null,null,R,at)),cn._21(1,114688,null,0,rt,[Zn,Xl],null,null)],function(n,l){n(l,1,0)},null)}function tn(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,12,"button",[["class","sidenav-button mat-raised-button"],["color","accent"],["mat-raised-button",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n.parent,12).open()&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],{color:[0,"color"]},null),cn._21(3,16384,null,0,jn.g,[],null,null),(n()(),cn._42(-1,0,["\n            "])),(n()(),cn._23(5,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(6,16384,null,0,Pn.u,[],null,null),cn._21(7,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["location_searching"])),(n()(),cn._42(-1,0,["\n            "])),(n()(),cn._23(10,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["Search"])),(n()(),cn._42(-1,0,["\n        "]))],function(n,l){n(l,2,0,"accent"),n(l,7,0)},function(n,l){n(l,0,0,cn._37(l,2).disabled||null)})}function en(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,12,"button",[["class","sidenav-button mat-raised-button"],["color","accent"],["mat-raised-button",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n.parent,12).open()&&e}return e},Mn.b,Mn.a)),cn._21(1,16384,null,0,Pn.u,[],null,null),cn._21(2,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],{color:[0,"color"]},null),cn._21(3,16384,null,0,jn.g,[],null,null),(n()(),cn._42(-1,0,["\n            "])),(n()(),cn._23(5,0,null,0,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(6,16384,null,0,Pn.u,[],null,null),cn._21(7,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["mode_edit"])),(n()(),cn._42(-1,0,["\n            "])),(n()(),cn._23(10,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["Edit map"])),(n()(),cn._42(-1,0,["\n        "]))],function(n,l){n(l,2,0,"accent"),n(l,7,0)},function(n,l){n(l,0,0,cn._37(l,2).disabled||null)})}function on(n){return cn._43(0,[cn._40(402653184,1,{sidenav:0}),(n()(),cn._23(1,0,null,null,1,"app-toolbar",[],null,null,null,_,dl)),cn._21(2,114688,null,0,sl,[Zn,vn,kn.k,kn.a,al,cl.d,cl.d,cl.d],{editMode:[0,"editMode"]},null),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._23(4,0,null,null,73,"mat-sidenav-container",[["class","example-container mat-drawer-container mat-sidenav-container"]],null,null,null,st.c,st.b)),cn._21(5,16384,null,0,Pn.u,[],null,null),cn._21(6,1228800,null,2,ct.e,[[2,zn.c],cn.q,cn.R,cn.J,cn.j],null,null),cn._40(603979776,2,{_drawers:1}),cn._40(335544320,3,{_content:0}),(n()(),cn._42(-1,2,["\n\n    "])),(n()(),cn._23(10,0,null,0,12,"mat-sidenav",[["class","left-sidenav mat-drawer mat-sidenav"],["tabIndex","-1"]],[[40,"@transform",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"]],[["component","@transform.start"],["component","@transform.done"],[null,"keydown"]],function(n,l,t){var e=!0;if("component:@transform.start"===l){e=!1!==cn._37(n,12)._onAnimationStart(t)&&e}if("component:@transform.done"===l){e=!1!==cn._37(n,12)._onAnimationEnd(t)&&e}if("keydown"===l){e=!1!==cn._37(n,12).handleKeydown(t)&&e}return e},st.d,st.a)),cn._21(11,16384,null,0,Pn.u,[],null,null),cn._21(12,1228800,[[2,4],[1,4],["sidenav",4]],0,ct.d,[cn.q,In.i,[2,pn.b]],{mode:[0,"mode"],disableClose:[1,"disableClose"]},null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._17(16777216,null,0,1,null,Q)),cn._21(15,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n        "])),(n()(),cn._17(16777216,null,0,1,null,nn)),cn._21(18,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n        "])),(n()(),cn._17(16777216,null,0,1,null,ln)),cn._21(21,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,0,["\n\n    "])),(n()(),cn._42(-1,2,["\n\n\n    "])),(n()(),cn._23(24,0,null,2,52,"div",[["id","viewer-container"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._17(16777216,null,null,1,null,tn)),cn._21(27,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n        "])),(n()(),cn._17(16777216,null,null,1,null,en)),cn._21(30,16384,null,0,Rn.j,[cn._5,cn._0],{ngIf:[0,"ngIf"]},null),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._23(32,0,null,null,40,"div",[["id","canvas-container"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n\n            "])),(n()(),cn._23(34,0,null,null,1,"app-svg",[],null,null,null,K,_t)),cn._21(35,114688,null,0,pt,[Zn,Xl],{editMode:[0,"editMode"],showLabels:[1,"showLabels"]},null),(n()(),cn._42(-1,null,["\n\n            "])),(n()(),cn._23(37,0,null,null,34,"div",[["id","zoom-button-container"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n                "])),(n()(),cn._23(39,0,null,null,9,"button",[["class","zoom-button mat-raised-button"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.zoom(1.1)&&e}return e},Mn.b,Mn.a)),cn._21(40,16384,null,0,Pn.u,[],null,null),cn._21(41,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(42,16384,null,0,jn.g,[],null,null),(n()(),cn._42(-1,0,["\n                    "])),(n()(),cn._23(44,0,null,0,3,"mat-icon",[["aria-label","Zoom +"],["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(45,16384,null,0,Pn.u,[],null,null),cn._21(46,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["zoom_in"])),(n()(),cn._42(-1,0,["\n                "])),(n()(),cn._42(-1,null,["\n                "])),(n()(),cn._23(50,0,null,null,9,"button",[["class","zoom-button mat-raised-button"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.zoom(.9)&&e}return e},Mn.b,Mn.a)),cn._21(51,16384,null,0,Pn.u,[],null,null),cn._21(52,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(53,16384,null,0,jn.g,[],null,null),(n()(),cn._42(-1,0,["\n                    "])),(n()(),cn._23(55,0,null,0,3,"mat-icon",[["aria-label","Zoom -"],["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(56,16384,null,0,Pn.u,[],null,null),cn._21(57,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["zoom_out"])),(n()(),cn._42(-1,0,["\n                "])),(n()(),cn._42(-1,null,["\n                "])),(n()(),cn._23(61,0,null,null,9,"button",[["class","zoom-button mat-raised-button"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.fitToViewport()&&e}return e},Mn.b,Mn.a)),cn._21(62,16384,null,0,Pn.u,[],null,null),cn._21(63,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(64,16384,null,0,jn.g,[],null,null),(n()(),cn._42(-1,0,["\n                    "])),(n()(),cn._23(66,0,null,0,3,"mat-icon",[["aria-label","Zoom -"],["class","mat-icon"],["role","img"]],null,null,null,Fn.b,Fn.a)),cn._21(67,16384,null,0,Pn.u,[],null,null),cn._21(68,638976,null,0,qn.b,[cn.R,cn.q,qn.d,[8,null]],null,null),(n()(),cn._42(-1,0,["zoom_out_map"])),(n()(),cn._42(-1,0,["\n                "])),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._42(-1,null,["\n\n        "])),(n()(),cn._23(74,0,null,null,1,"app-floor-controls",[],null,null,null,Z,vt)),cn._21(75,114688,null,0,bt,[Zn],{editMode:[0,"editMode"]},null),(n()(),cn._42(-1,null,["\n\n    "])),(n()(),cn._42(-1,2,["\n\n"])),(n()(),cn._42(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,2,0,t.editMode);n(l,12,0,cn._26(1,"",t.sideNavMode,""),t.editMode&&!t.onMobile);n(l,15,0,!t.editMode);n(l,18,0,t.editMode);n(l,21,0,t.editMode);n(l,27,0,!t.editMode);n(l,30,0,t.editMode&&t.onMobile);n(l,35,0,t.editMode,t.showLabels),n(l,46,0),n(l,57,0),n(l,68,0);n(l,75,0,t.editMode)},function(n,l){n(l,10,0,cn._37(l,12)._animationState,null,"end"===cn._37(l,12).position,"over"===cn._37(l,12).mode,"push"===cn._37(l,12).mode,"side"===cn._37(l,12).mode,cn._37(l,12).fixedInViewport,cn._37(l,12).fixedInViewport?cn._37(l,12).fixedTopGap:null,cn._37(l,12).fixedInViewport?cn._37(l,12).fixedBottomGap:null);n(l,39,0,cn._37(l,41).disabled||null);n(l,50,0,cn._37(l,52).disabled||null);n(l,61,0,cn._37(l,63).disabled||null)})}function un(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),cn._21(1,81920,null,0,cl.k,[[2,cl.g]],null,null),(n()(),cn._42(-1,null,["Delete map"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._23(4,0,null,null,9,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),cn._21(5,16384,null,0,Pn.u,[],null,null),cn._21(6,16384,null,0,cl.h,[],null,null),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(8,0,null,null,4,"span",[["class","mat-body-1"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["Do you really want to "])),(n()(),cn._23(10,0,null,null,1,"span",[["class","mat-body-2"],["color","warn"],["id","delete"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["delete"])),(n()(),cn._42(-1,null,[" this map?"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._23(15,0,null,null,16,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),cn._21(16,16384,null,0,Pn.u,[],null,null),cn._21(17,16384,null,0,cl.e,[],null,null),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(19,0,null,null,5,"button",[["class","mat-button"],["mat-button",""],["type","button"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,23).dialogRef.close(cn._37(n,23).dialogResult)&&e}return e},Mn.b,Mn.a)),cn._21(20,16384,null,0,Pn.u,[],null,null),cn._21(21,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(22,16384,null,0,jn.c,[],null,null),cn._21(23,540672,null,0,cl.f,[cl.j],{dialogResult:[0,"dialogResult"]},null),(n()(),cn._42(-1,0,["No"])),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(26,0,null,null,4,"button",[["class","mat-button"],["color","warn"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.deleteMap()&&e}return e},Mn.b,Mn.a)),cn._21(27,16384,null,0,Pn.u,[],null,null),cn._21(28,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],{color:[0,"color"]},null),cn._21(29,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["Yes"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n\n"]))],function(n,l){n(l,1,0);n(l,23,0,!0);n(l,28,0,"warn")},function(n,l){n(l,0,0,cn._37(l,1).id);n(l,19,0,cn._37(l,21).disabled||null,cn._37(l,23).ariaLabel);n(l,26,0,cn._37(l,28).disabled||null)})}function rn(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),cn._21(1,81920,null,0,cl.k,[[2,cl.g]],null,null),(n()(),cn._42(-1,null,["Set map name"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._23(4,0,null,null,27,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),cn._21(5,16384,null,0,Pn.u,[],null,null),cn._21(6,16384,null,0,cl.h,[],null,null),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(8,0,null,null,22,"mat-form-field",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,kl.b,kl.a)),cn._21(9,16384,null,0,Pn.u,[],null,null),cn._21(10,7389184,null,6,Pl.a,[cn.q,cn.R,cn.j,[2,Pn.k]],null,null),cn._40(335544320,1,{_control:0}),cn._40(335544320,2,{_placeholderChild:0}),cn._40(603979776,3,{_errorChildren:1}),cn._40(603979776,4,{_hintChildren:1}),cn._40(603979776,5,{_prefixChildren:1}),cn._40(603979776,6,{_suffixChildren:1}),(n()(),cn._42(-1,1,["\n        "])),(n()(),cn._23(18,0,null,1,11,"div",[],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n            "])),(n()(),cn._23(20,0,null,null,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","mapname"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,t){var e=!0,o=n.component;if("input"===l){e=!1!==cn._37(n,21)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,21).onTouched()&&e}if("compositionstart"===l){e=!1!==cn._37(n,21)._compositionStart()&&e}if("compositionend"===l){e=!1!==cn._37(n,21)._compositionEnd(t.target.value)&&e}if("blur"===l){e=!1!==cn._37(n,27)._focusChanged(!1)&&e}if("focus"===l){e=!1!==cn._37(n,27)._focusChanged(!0)&&e}if("input"===l){e=!1!==cn._37(n,27)._onInput()&&e}if("ngModelChange"===l){e=!1!==(o.mapname=t)&&e}if("keyup.enter"===l){e=!1!==o.onSubmitClick()&&e}return e},null,null)),cn._21(21,16384,null,0,jl.c,[cn.R,cn.q,[2,jl.a]],null,null),cn._39(1024,null,jl.g,function(n){return[n]},[jl.c]),cn._21(23,671744,null,0,jl.k,[[8,null],[8,null],[8,null],[2,jl.g]],{model:[0,"model"]},{update:"ngModelChange"}),cn._39(2048,null,jl.h,null,[jl.k]),cn._21(25,16384,null,0,jl.i,[jl.h],null,null),cn._21(26,16384,null,0,Pn.u,[],null,null),cn._21(27,933888,null,0,Cl.a,[cn.q,cn.R,Cn.a,[2,jl.h],[2,jl.j],[2,jl.d],Pn.e],{id:[0,"id"]},null),cn._39(2048,[[1,4]],Pl.b,null,[Cl.a]),(n()(),cn._42(-1,null,["\n        "])),(n()(),cn._42(-1,1,["\n    "])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._23(33,0,null,null,9,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),cn._21(34,16384,null,0,Pn.u,[],null,null),cn._21(35,16384,null,0,cl.e,[],null,null),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(37,0,null,null,4,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.onSubmitClick()&&e}return e},Mn.b,Mn.a)),cn._21(38,16384,null,0,Pn.u,[],null,null),cn._21(39,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],{disabled:[0,"disabled"]},null),cn._21(40,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["Submit"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,1,0);n(l,23,0,t.mapname);n(l,27,0,"mapname");n(l,39,0,0===t.mapname.length)},function(n,l){n(l,0,0,cn._37(l,1).id);n(l,8,1,[cn._37(l,10)._control.errorState,cn._37(l,10)._control.errorState,cn._37(l,10)._canPlaceholderFloat,cn._37(l,10)._control.shouldPlaceholderFloat||cn._37(l,10)._shouldAlwaysFloat,cn._37(l,10)._control.focused,"primary"==cn._37(l,10).color,"accent"==cn._37(l,10).color,"warn"==cn._37(l,10).color,cn._37(l,10)._shouldForward("untouched"),cn._37(l,10)._shouldForward("touched"),cn._37(l,10)._shouldForward("pristine"),cn._37(l,10)._shouldForward("dirty"),cn._37(l,10)._shouldForward("valid"),cn._37(l,10)._shouldForward("invalid"),cn._37(l,10)._shouldForward("pending")]);n(l,20,1,[cn._37(l,25).ngClassUntouched,cn._37(l,25).ngClassTouched,cn._37(l,25).ngClassPristine,cn._37(l,25).ngClassDirty,cn._37(l,25).ngClassValid,cn._37(l,25).ngClassInvalid,cn._37(l,25).ngClassPending,cn._37(l,27).id,cn._37(l,27).placeholder,cn._37(l,27).disabled,cn._37(l,27).required,cn._37(l,27).readonly,cn._37(l,27)._ariaDescribedby||null,cn._37(l,27).errorState]);n(l,37,0,cn._37(l,39).disabled||null)})}function an(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),cn._21(1,81920,null,0,cl.k,[[2,cl.g]],null,null),(n()(),cn._42(-1,null,["Publish map"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._23(4,0,null,null,12,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),cn._21(5,16384,null,0,Pn.u,[],null,null),cn._21(6,16384,null,0,cl.h,[],null,null),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(8,0,null,null,4,"span",[["class","mat-body-1"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["Do you really want to "])),(n()(),cn._23(10,0,null,null,1,"span",[["class","mat-body-2"],["id","delete"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["publish"])),(n()(),cn._42(-1,null,[" this map?"])),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(14,0,null,null,1,"p",[["class","mat-body-1"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["Your map will be validated by our team. This process may take a few days."])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._23(18,0,null,null,16,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),cn._21(19,16384,null,0,Pn.u,[],null,null),cn._21(20,16384,null,0,cl.e,[],null,null),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(22,0,null,null,5,"button",[["class","mat-button"],["mat-button",""],["type","button"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==cn._37(n,26).dialogRef.close(cn._37(n,26).dialogResult)&&e}return e},Mn.b,Mn.a)),cn._21(23,16384,null,0,Pn.u,[],null,null),cn._21(24,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(25,16384,null,0,jn.c,[],null,null),cn._21(26,540672,null,0,cl.f,[cl.j],{dialogResult:[0,"dialogResult"]},null),(n()(),cn._42(-1,0,["No"])),(n()(),cn._42(-1,null,["\n    "])),(n()(),cn._23(29,0,null,null,4,"button",[["class","mat-button"],["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.publishMap()&&e}return e},Mn.b,Mn.a)),cn._21(30,16384,null,0,Pn.u,[],null,null),cn._21(31,180224,null,0,jn.b,[cn.R,cn.q,Cn.a,In.h],null,null),cn._21(32,16384,null,0,jn.c,[],null,null),(n()(),cn._42(-1,0,["Yes"])),(n()(),cn._42(-1,null,["\n"])),(n()(),cn._42(-1,null,["\n\n"]))],function(n,l){n(l,1,0);n(l,26,0,!0)},function(n,l){n(l,0,0,cn._37(l,1).id);n(l,22,0,cn._37(l,24).disabled||null,cn._37(l,26).ariaLabel);n(l,29,0,cn._37(l,31).disabled||null)})}function sn(n){return cn._43(0,[(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._23(1,0,null,null,0,"div",[["id","spacer"]],null,null,null,null,null)),(n()(),cn._42(-1,null,["\n\n"])),(n()(),cn._23(3,16777216,null,null,1,"router-outlet",[],null,[[null,"activate"]],function(n,l,t){var e=!0,o=n.component;if("activate"===l){e=!1!==o.scrollTop()&&e}return e},null,null)),cn._21(4,212992,null,0,kn.n,[kn.b,cn._5,cn.m,[8,null],cn.j],null,{activateEvents:"activate"}),(n()(),cn._42(-1,null,["\n"]))],function(n,l){n(l,4,0)},null)}Object.defineProperty(l,"__esModule",{value:!0});var cn=t("/oeL"),pn=t("fc+i"),dn=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),_n=function(n){function l(){var l=null!==n&&n.apply(this,arguments)||this;return l.overrides={pinch:{enable:!0}},l}return dn(l,n),l}(pn.g),fn=function(){return function(){}}(),hn=t("6lRS"),mn=function(){function n(n){this.snackBar=n,this.snackConfig=new hn.f,this.snackConfig.duration=3500}return n.prototype.notify=function(n,l){void 0===l&&(l=""),this.snackBar.open(n,l,this.snackConfig)},n.prototype.setDuration=function(n){this.snackConfig.duration=n},n.ctorParameters=function(){return[{type:hn.e}]},n}(),gn=t("CPp0"),bn=function(){function n(n,l){this.http=n,this.msgSvc=l,this.options=new gn.f,this.options.withCredentials=!0}return n.prototype.get=function(l,t){var e=this;return this.http.get(encodeURI(n.URL_API+l+this.uriEncodeObject(t)),this.options).map(function(n){return e.handleResponse(n)})},n.prototype.post=function(l,t){var e=this;return this.http.post(encodeURI(n.URL_API+l),t,this.options).map(function(n){return e.handleResponse(n)})},n.prototype.delete=function(l,t){var e=this;return this.http.delete(encodeURI(n.URL_API+l+this.uriEncodeObject(t)),this.options).map(function(n){return e.handleResponse(n)})},n.prototype.handleResponse=function(n){var l=null;if(!0===n.ok&&200===n.status)try{var t=n.json();void 0!==t.error&&null!==t||(l=t)}catch(t){l=n.body}else l=null;return{status:n.status,data:l}},n.prototype.uriEncodeObject=function(n){var l="";for(var t in n)n.hasOwnProperty(t)&&(l+="&"+encodeURI(t)+"="+encodeURIComponent(n[t]));return l},n.ctorParameters=function(){return[{type:gn.d},{type:mn}]},n.URL_LOGIN_ENDPOINT="https://bin.nubenum.de/ie/auth.php?action=login",n.URL_API="https://bin.nubenum.de/ie/api/v1/",n.LIST_MAPS="map",n.LIST_MAP_DETAILS="map/",n.LIST_MAP_SAVE="map/",n.INFO_USER="user",n.DELETE_MAP="map/",n.LOGOUT="user/logout",n.PUBLISH="map/",n}(),yn=t("AP4T"),vn=function(){function n(n){this.requestSvc=n,this._userId=null,this._userName=null,this.loaded=!1}return Object.defineProperty(n.prototype,"userId",{get:function(){return this._userId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userName",{get:function(){return null===this._userName?"Log in / Sign up":this._userName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLoggedIn",{get:function(){return null!==this._userId},enumerable:!0,configurable:!0}),n.prototype.refreshUserInfo=function(){var n=this;return yn.a.create(function(l){n.requestSvc.get(bn.INFO_USER,{}).subscribe(function(t){if(t.status>=200&&t.status<=299&&t.data){var e=t.data;n._userId=e.id,n._userName=e.username,l.next(!0)}else t.status>=400&&t.status,l.next(!1);n.loaded=!0,l.complete()})})},n.prototype.login=function(n){window.location.href=bn.URL_LOGIN_ENDPOINT+this.requestSvc.uriEncodeObject({providerId:n})+"&redirect= "+encodeURI(location.href)},n.prototype.logout=function(){this.requestSvc.get(bn.LOGOUT,{}).subscribe(function(n){n.status>=200&&n.status,location.reload()})},n.ctorParameters=function(){return[{type:bn}]},n}(),xn=function(){function n(n){this.userSvc=n,this.title="app works!"}return n.prototype.scrollTop=function(){window.scrollTo(0,0)},n.prototype.ngOnInit=function(){this.userSvc.refreshUserInfo().subscribe()},n.ctorParameters=function(){return[{type:vn}]},n}(),wn=t("kJcM"),On=t("O00e"),Sn=t("8HKE"),Mn=t("wjk8"),kn=t("BkNc"),Pn=t("j5BN"),jn=t("ghl+"),Cn=t("V8+5"),In=t("8Xfy"),Fn=t("Bhux"),qn=t("vgc3"),Rn=t("qbdv"),Tn=t("j0P2"),Ln=t("R1vt"),Dn=t("Co17"),En=t("YXpL"),An=t("OFGE"),zn=t("l6RC"),Gn=function(){function n(n,l,t){void 0===t&&(t=null),this.type="Elevator",this.label=n,this.group=t,this.center=l}return n.prototype.forExport=function(){return{label:this.label,p:this.center.forExport(),group:this.group}},n}(),Nn=function(){return function(n,l){void 0===n&&(n=[]),void 0===l&&(l=[]),this.nodes=n,this.paths=l}}(),$n=function(){function n(n,l,t){void 0===t&&(t=!0),this._gridSnap=t,this.setCoords(n,l)}return Object.defineProperty(n.prototype,"gridSnap",{get:function(){return this._gridSnap},set:function(n){this._gridSnap=n,this.gridSnap&&this.snapToGrid()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this.gridSnap&&this.snapToGrid()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this.gridSnap&&this.snapToGrid()},enumerable:!0,configurable:!0}),n.snapCoords=function(n,l,t){return void 0===t&&(t=10),{x:Math.round(n/t)*t,y:Math.round(l/t)*t}},n.prototype.setCoords=function(n,l){this._x=n,this._y=l,this.gridSnap&&this.snapToGrid()},n.prototype.snapToGrid=function(l){void 0===l&&(l=10);var t=n.snapCoords(this._x,this._y,l);this._x=t.x,this._y=t.y},n.prototype.equals=function(n){return this.x===n.x&&this.y===n.y},n.prototype.clone=function(){return new n(this.x,this.y,this.gridSnap)},n.prototype.forExport=function(){return{x:this._x,y:this._y}},n}(),Un=function(){function n(n,l){this.p1=n,this.p2=l,this.deleted=!1}return Object.defineProperty(n.prototype,"center",{get:function(){return new $n((this.p1.x+this.p2.x)/2,(this.p1.y+this.p2.y)/2,!1)},enumerable:!0,configurable:!0}),n.prototype.getPoints=function(){return[this.p1,this.p2]},n.prototype.replacePoint=function(n,l){n===this.p1&&(this.p1=l),n===this.p2&&(this.p2=l)},n.prototype.isValid=function(){return!this.p1.equals(this.p2)},n.prototype.equals=function(n){return this.p1.equals(n.p1)&&this.p2.equals(n.p2)||this.p1.equals(n.p2)&&this.p2.equals(n.p1)},n.prototype.forExport=function(){return{p1:this.p1.forExport(),p2:this.p2.forExport()}},n}(),Vn=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bn=function(n){function l(l,t,e){var o=n.call(this,t,e)||this;return o.type="Portal",o.label=l,o}return Vn(l,n),l.prototype.forExport=function(){return Object.assign(n.prototype.forExport.call(this),{label:this.label})},l}(Un),Wn=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yn=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Wn(l,n),l}(Un),Jn=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kn=function(n){function l(l,t,e,o,u,r,i){void 0===o&&(o=null),void 0===u&&(u=!0),void 0===r&&(r=!0),void 0===i&&(i=30);var a=n.call(this,l,t,e)||this;return a.type="Stairs",a.group=o,a.canEnter=u,a.canLeave=r,a.length=i,a}return Jn(l,n),Object.defineProperty(l.prototype,"width",{get:function(){return Math.sqrt(Math.pow(this.p2.x-this.p1.x,2)+Math.pow(this.p2.y-this.p1.y,2))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rearCenter",{get:function(){var n=this.calcNormalVector();return{x:(this.p1.x+this.p2.x)/2+n.x,y:(this.p1.y+this.p2.y)/2+n.y}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rearLeft",{get:function(){var n=this.calcNormalVector();return{x:this.p1.x+n.x,y:this.p1.y+n.y}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rearRight",{get:function(){var n=this.calcNormalVector();return{x:this.p2.x+n.x,y:this.p2.y+n.y}},enumerable:!0,configurable:!0}),l.prototype.calcNormalVector=function(){var n=[this.p2.x-this.p1.x,this.p2.y-this.p1.y],l=n[0],t=n[1],e=Math.sqrt(Math.pow(l,2)+Math.pow(t,2));return{x:e?this.length*t/e:0,y:e?this.length*-l/e:0}},l.prototype.forExport=function(){return Object.assign(n.prototype.forExport.call(this),{group:this.group,canEnter:this.canEnter,canLeave:this.canLeave,length:this.length})},l}(Bn),Xn=function(){function n(n){this.portals=[],this.walls=[],this.stairways=[],this.elevators=[],this.searchResults=[],this.floorGraph=new Nn,this.label="";for(var l=0,t=n.walls||[];l<t.length;l++){var e=t[l],o=this.getExistingOrThisPoint(new $n(e.p1.x,e.p1.y)),u=this.getExistingOrThisPoint(new $n(e.p2.x,e.p2.y));this.walls.push(new Yn(o,u))}for(var r=0,i=n.portals||[];r<i.length;r++){var a=i[r],o=this.getExistingOrThisPoint(new $n(a.p1.x,a.p1.y)),u=this.getExistingOrThisPoint(new $n(a.p2.x,a.p2.y));this.portals.push(new Bn(a.label,o,u))}for(var s=0,c=n.stairways||[];s<c.length;s++){var p=c[s],o=this.getExistingOrThisPoint(new $n(p.p1.x,p.p1.y)),u=this.getExistingOrThisPoint(new $n(p.p2.x,p.p2.y));this.stairways.push(new Kn(p.label,o,u,p.group,p.canEnter,p.canLeave,p.length))}for(var d=0,_=n.elevators||[];d<_.length;d++){var f=_[d],h=this.getExistingOrThisPoint(new $n(f.p.x,f.p.y));this.elevators.push(new Gn(f.label,h,f.group))}this.label=n.label||"",this.floorGraph=new Nn}return n.prototype.getAllPoints=function(){return Array.from(new Set(this.walls.concat(this.portals,this.stairways).map(function(n){return n.getPoints()}).reduce(function(n,l){return n.concat(l)},[])))},n.prototype.getAllSelectables=function(){return this.portals.concat(this.stairways).concat(this.elevators)},n.prototype.getAllTeleporters=function(){return this.stairways.concat(this.elevators)},n.prototype.getExistingOrThisPoint=function(n,l,t,e){void 0===l&&(l=[]),void 0===t&&(t=!1),void 0===e&&(e=null);var o=(e||this.getAllPoints()).filter(function(t){return t!==n&&t.equals(n)&&-1===l.indexOf(t)});return o.length,o.length>0?o[0]:t?null:n},n.prototype.joinPoints=function(n,l){var t=this;this.walls.forEach(function(t){return t.replacePoint(l,n)}),this.portals.forEach(function(t){return t.replacePoint(l,n)}),this.stairways.forEach(function(t){return t.replacePoint(l,n)}),this.walls=this.walls.filter(function(n){return t.lineIsValid(n)}),this.portals=this.portals.filter(function(n){return t.lineIsValid(n)}),this.stairways=this.stairways.filter(function(n){return t.lineIsValid(n)})},n.prototype.lineIsValid=function(n){var l=this;return!!n.isValid()&&!(this.walls.find(function(t,e){return n!==t&&n.equals(t)&&(!(n instanceof Yn)||l.walls.indexOf(n)<e)})||this.portals.find(function(t,e){return n!==t&&n.equals(t)&&(!(n instanceof Bn)||l.portals.indexOf(n)<e)})||this.stairways.find(function(t,e){return n!==t&&n.equals(t)&&(!(n instanceof Kn)||l.stairways.indexOf(n)<e)}))},n.prototype.forExport=function(){return{walls:this.walls.map(function(n){return n.forExport()}),portals:this.portals.map(function(n){return n.forExport()}),stairways:this.stairways.map(function(n){return n.forExport()}),elevators:this.elevators.map(function(n){return n.forExport()}),label:this.label}},n.prototype.search=function(n){n.length?this.searchResults=this.getAllSelectables().filter(function(l){return-1!==l.label.toLowerCase().indexOf(n)}):this.searchResults=[]},n}(),Hn=function(){function n(n,l,t){void 0===t&&(t=!1),this.modelSvc=l,this.id=n.id,this.name=n.name,this.floors=n.floors?n.floors.map(function(n){return new Xn(n)}):null,this.favorite=n.favorite,this.permission=n.permission,this.visibility=n.visibility,this.stairGraph=[],t||this.storeClean()}return n.prototype.createFloor=function(n){void 0===n&&(n=null),n?this.floors.push(new Xn(n.forExport())):this.floors.push(new Xn({walls:[],portals:[],stairways:[],elevators:[],label:String(Math.max.apply(Math,[0].concat(this.floors.map(function(n){return Number.parseInt(n.label,10)}).filter(function(n){return!Number.isNaN(n)})))+1)})),this.dirty=!0},n.prototype.moveFloor=function(n,l){var t=this.floors.indexOf(n);if(t+l>-1&&t+l<this.floors.length){var e=this.floors[t],o=t+l;return this.floors[t]=this.floors[o],this.floors[o]=e,o}return this.dirty=!0,t},n.prototype.removeFloor=function(n){var l=this.floors.indexOf(n);this.floors.length>1&&-1!==l&&this.floors.splice(l,1),this.dirty=!0},n.prototype.forExport=function(){return{id:this.id,name:this.name,floors:this.floors.map(function(n){return n.forExport()}),favorite:this.favorite,permission:this.permission,visibility:this.visibility}},n.prototype.zoom=function(n,l,t,e,o){void 0===l&&(l=null),void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=!1);var u=2e3/this.modelSvc.zoom,r=this.boundZoom(u/n);if(n=u/r,l&&t&&e){var i=u/this.modelSvc.viewportSize.x;this.modelSvc.panOffset.x=l.x-(t-this.modelSvc.bodyOffset.x)*i/n,this.modelSvc.panOffset.y=l.y-(e-this.modelSvc.bodyOffset.y)*i/n}this.updateCanvasSize(r,1,o)},n.prototype.boundZoom=function(n){return Number.isNaN(n)?this.modelSvc.canvasSize.x:n<200||n>1e4?Math.min(Math.max(n,200),1e4):n},n.prototype.getAllPoints=function(){return this.floors.reduce(function(n,l){return n.concat(l.getAllPoints())},[])},n.prototype.getAllSelectables=function(){return this.floors.reduce(function(n,l){return n.concat(l.getAllSelectables())},[])},n.prototype.getAllTeleporters=function(){return this.floors.reduce(function(n,l){return n.concat(l.getAllTeleporters())},[])},n.prototype.fitToViewport=function(){this.getMapDimensions();var n=this.getAllPoints();if(n.length){for(var l=n[0].clone(),t=n[0].clone(),e=0,o=n;e<o.length;e++){var u=o[e];u.x<l.x&&(l.x=u.x),u.y<l.y&&(l.y=u.y),u.x>t.x&&(t.x=u.x),u.y>t.y&&(t.y=u.y)}this.modelSvc.panOffset.x=l.x-100,this.modelSvc.panOffset.y=l.y-100;var r=t.x-l.x+200,i=t.y-l.y+200;this.updateCanvasSize(r,i)}else this.modelSvc.panOffset.x=0,this.modelSvc.panOffset.y=0,this.updateCanvasSize(2e3,1)},n.prototype.updateCanvasSize=function(n,l,t){if(void 0===t&&(t=!1),(n=this.boundZoom(n))/l<this.modelSvc.viewportSize.x/this.modelSvc.viewportSize.y?(this.modelSvc.canvasSize.x=l*this.modelSvc.viewportSize.x/this.modelSvc.viewportSize.y,this.modelSvc.canvasSize.y=l):(this.modelSvc.canvasSize.x=n,this.modelSvc.canvasSize.y=n*this.modelSvc.viewportSize.y/this.modelSvc.viewportSize.x),!t){var e=2e3/this.modelSvc.canvasSize.x;e&&(this.modelSvc.zoom=e)}},n.prototype.getMapDimensions=function(){if(this.modelSvc.editorCanvas){var n=this.modelSvc.editorCanvas.nativeElement.getBoundingClientRect();this.modelSvc.viewportSize.x===n.width&&this.modelSvc.viewportSize.y===n.height&&this.modelSvc.bodyOffset.x===n.left&&this.modelSvc.bodyOffset.y===n.top||(this.modelSvc.viewportSize.x=n.width,this.modelSvc.viewportSize.y=n.height,this.modelSvc.bodyOffset.x=n.left,this.modelSvc.bodyOffset.y=n.top,this.updateCanvasSize(this.modelSvc.canvasSize.x,1))}},n.prototype.search=function(n){n=n.toLowerCase();for(var l=0,t=this.floors;l<t.length;l++){t[l].search(n)}},n.prototype.storeClean=function(){this.shadow={name:this.name,floors:this.floors&&this.floors.map(function(n){return n.forExport()})},this.dirty=!1},n.prototype.resetClean=function(){this.name=this.shadow.name,this.floors=this.shadow.floors&&this.shadow.floors.map(function(n){return new Xn(n)}),this.dirty=!1},n}(),Zn=function(){function n(n,l,t){this.rqstSvc=n,this.msgSvc=l,this.userSvc=t,this._selectedObjects=[],this.connectibleTeleporterGroups=[],this.backgroundImageDataURL=null,this.viewportSize={x:500,y:500},this.canvasSize={x:500,y:500},this.panOffset={x:0,y:0},this.bodyOffset={x:0,y:0},this.zoom=1,this.maps={},this.currentMapId=0,this.currentFloorId=0}return Object.defineProperty(n.prototype,"currentMap",{get:function(){return this.maps[this.currentMapId]||null},set:function(n){this.currentMapId=n.id,this.maps[this.currentMapId]=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentFloor",{get:function(){return this.currentMap&&this.currentMap.floors?this.currentMap.floors[this.currentFloorId]||null:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedObjects",{get:function(){return this._selectedObjects},set:function(n){this._selectedObjects=n,this.updateConnectibleTeleporterGroups()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"singleSelectedObject",{get:function(){return 1===this.selectedObjects.length?this.selectedObjects[0]:null},enumerable:!0,configurable:!0}),n.prototype.setCurrentFloor=function(n){this.currentFloorId=n},n.prototype.loadMapList=function(){var n=this;return yn.a.create(function(l){n.userSvc.refreshUserInfo().subscribe(),n.rqstSvc.get(bn.LIST_MAPS,{}).subscribe(function(t){if(t.status>=200&&t.status<=299&&t.data){for(var e=0,o=t.data;e<o.length;e++){var u=o[e];n.maps[u.id]=new Hn(u,n)}l.next(!0)}else l.next(!1);l.complete()})})},n.prototype.loadMap=function(n){var l=this;if(this.selectedObjects=[],-1===n){var t=new Hn({id:-1,name:"New Map",floors:[],favorite:!1,permission:0,visibility:0},this);return t.createFloor(),t.fitToViewport(),this.currentMap=t,this.currentMap.dirty=!1,yn.a.of(!0)}return yn.a.create(function(t){l.rqstSvc.get(bn.LIST_MAP_DETAILS+n,{}).subscribe(function(n){n.status>=200&&n.status<=299&&n.data?(l.currentMap=new Hn(n.data,l),l.currentMap.fitToViewport(),t.next(!0)):t.next(!1),t.complete()},function(n){t.next(!1),t.complete()})})},n.prototype.saveMap=function(n){var l=this;this.rqstSvc.post(bn.LIST_MAP_SAVE+this.currentMapId,this.currentMap.forExport()).subscribe(function(t){t.status>=200&&t.status<=299&&(l.msgSvc.notify("Map was successfully saved","Success"),t.data&&t.data.id&&-1===l.currentMap.id&&(l.currentMap.id=t.data.id,l.maps[t.data.id]=l.maps[-1],l.currentMapId=t.data.id,delete l.maps[-1]),n(l.currentMapId))},function(n){l.msgSvc.notify("Could not save map :(","Close")})},n.prototype.deleteMap=function(n){var l=this;this.rqstSvc.delete(bn.DELETE_MAP+this.currentMapId,{}).subscribe(function(t){t.status>=200&&t.status<=299&&(delete l.maps[l.currentMapId],n())})},n.prototype.publishMap=function(){this.rqstSvc.post(bn.PUBLISH+this.currentMapId+"/publish",{}).subscribe(function(n){})},n.prototype.updateConnectibleTeleporterGroups=function(){var n=[];1===this.selectedObjects.length&&(this.selectedObjects[0]instanceof Kn?n=this.currentMap.floors.reduce(function(n,l){return n.concat(l.stairways)},[]):this.selectedObjects[0]instanceof Gn&&(n=this.currentMap.floors.reduce(function(n,l){return n.concat(l.elevators)},[])));for(var l=[],t=function(n){if(null!==n.group){var t=l.find(function(l){return l.group===n.group});t?t.members.push(n):l.push({group:n.group,members:[n]})}},e=0,o=n;e<o.length;e++){t(o[e])}this.connectibleTeleporterGroups=l},n.ctorParameters=function(){return[{type:bn},{type:mn},{type:vn}]},n}(),Qn=function(){function n(n,l,t){this.modelSvc=n,this.router=l,this.dialogRef=t}return n.prototype.ngOnInit=function(){},n.prototype.deleteMap=function(){var n=this;this.dialogRef.close(),this.modelSvc.deleteMap(function(){n.router.navigate(["root"])})},n.ctorParameters=function(){return[{type:Zn},{type:kn.k},{type:hn.c}]},n}(),nl=function(){function n(n,l,t){this.dialogRef=n,this.data=l,this.modelSvc=t}return n.prototype.ngOnInit=function(){this.mapname=this.modelSvc.currentMap.name},n.prototype.onSubmitClick=function(){this.modelSvc.currentMap.name=this.mapname,this.modelSvc.currentMap.dirty=!0,this.dialogRef.close()},n.ctorParameters=function(){return[{type:hn.c},{type:void 0,decorators:[{type:cn.w,args:[hn.a]}]},{type:Zn}]},n}(),ll=function(){function n(n,l){this.modelSvc=n,this.dialogRef=l}return n.prototype.ngOnInit=function(){},n.prototype.publishMap=function(){this.modelSvc.publishMap(),this.dialogRef.close()},n.ctorParameters=function(){return[{type:Zn},{type:hn.c}]},n}(),tl=function(){function n(n,l){void 0===n&&(n=[]),void 0===l&&(l=""),this.path=n,this.description=l}return n.prototype.getLength=function(){for(var n=0,l=0,t=this.path;l<t.length;l++){var e=t[l];n+=Math.sqrt(Math.pow(e.p2.x-e.p1.x,2)+Math.pow(e.p2.y-e.p1.y,2))}return n},n}(),el=function(){function n(n,l,t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.x=n,this.y=l,this.links=t,this.costs=e}return n.prototype.addLinkTo=function(n,l){this.links.push(n),this.costs.push(l)},n.prototype.equals=function(n){return this.x===n.x&&this.y===n.y},n.prototype.isConnectedToAny=function(){return this.links.length>0},n}(),ol=function(){return function(n,l,t,e){void 0===n&&(n=null),void 0===l&&(l=0),void 0===t&&(t=[]),void 0===e&&(e=[]),this.teleporter=n,this.links=t,this.floorLevel=l,this.costs=e}}(),ul=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),rl=function(n){function l(l,t){return n.call(this,l,t,!1)||this}return ul(l,n),l.perpendicular=function(n){return new l(n.y,-n.x)},l.normalized=function(n){var t=n.len();return new l(n.x/=t,n.y/=t)},l.prototype.nor=function(){var n=this.len();this.x/=n,this.y/=n},l.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},l.prototype.angle=function(){return(Math.atan2(this.y,this.x)%(2*Math.PI)+2*Math.PI)%(2*Math.PI)},l}($n),il=function(){function n(){}return n.findPathFromTo=function(n,l,t){if(l===t||n.indexOf(l)===n.indexOf(t))return[l];for(var e=[],o=[],u=[],r=0;r<n.length;r++)o.push(n[r]===l?0:Number.MAX_VALUE),u.push(n[r]);return e.push(l),this.calculatePath(n,o,u,[],e,t)},n.calculatePath=function(n,l,t,e,o,u){for(var r=Number.MAX_VALUE,i=r,a=null,s=-1,c=0,p=o;c<p.length;c++)for(var d=p[c],_=0;_<d.links.length;_++)(i=l[n.indexOf(d)]+d.costs[_])<l[n.indexOf(d.links[_])]&&(l[n.indexOf(d.links[_])]=i,t[n.indexOf(d.links[_])]=d),o.indexOf(d.links[_])<0&&(e.indexOf(d.links[_])<0&&e.push(d.links[_]),i<r&&(r=i,a=d,s=_));if(0===e.length)return null;if(e.splice(e.indexOf(a.links[s]),1),o.push(a.links[s]),o.indexOf(u)<0)return this.calculatePath(n,l,t,e,o,u);var f=[];for(f.push(u);!t[n.indexOf(f[f.length-1])].equals(f[f.length-1]);)f.push(t[n.indexOf(f[f.length-1])]);return f.reverse(),f},n.checkIntersectionOfLineWithLines=function(n,l,t,e,o,u,r){void 0===r&&(r=!1);for(var i=!1,a=0,s=o;a<s.length;a++){var c=s[a],p={x:c.p2.x-c.p1.x,y:c.p2.y-c.p1.y},d=(-(e-l)*(n-c.p1.x)+(t-n)*(l-c.p1.y))/(-p.x*(e-l)+(t-n)*p.y),_=(p.x*(l-c.p1.y)-p.y*(n-c.p1.x))/(-p.x*(e-l)+(t-n)*p.y);if(d>=u&&d<=1-u&&_>=u&&_<=1-u){i=!0;break}}return i},n.createNodesForWallEnd=function(n,l,t,e,o){void 0===o&&(o=!1);for(var u=[],r=[],i=(new rl(l.x-n.x,l.y-n.y).angle(),0),a=e.filter(function(l){return l.p2.equals(n)||l.p1.equals(n)});i<a.length;i++){var s=a[i],c=s.p1.equals(n)?new rl(s.p2.x-s.p1.x,s.p2.y-s.p1.y):new rl(s.p1.x-s.p2.x,s.p1.y-s.p2.y);c.nor(),r.push({v:c,a:c.angle()})}r.sort(function(n,l){return l.a-n.a});for(var p=0;p<r.length;p++){var d=r[(p+1)%r.length].a;if(p===r.length-1&&(d+=2*Math.PI),Math.abs(r[p].a-d)>Math.PI)for(var _=Math.abs(r[p].a-d)>1.5*Math.PI&&o?3:2,f=1;f<_;f++){var h=d+(r[p].a-d)/_*f;h===r[p].a&&(h=(h+Math.PI)%Math.PI*2);var m=new rl(Math.cos(h)*t,Math.sin(h)*t);u.push(new el(n.x+m.x,n.y+m.y))}}return u},n.linkNodes=function(n,l){var t=Math.sqrt((n.x-l.x)*(n.x-l.x)+(n.y-l.y)*(n.y-l.y));n.addLinkTo(l,t),l.addLinkTo(n,t)},n.createLinkedFloorGraph=function(n,l,t){void 0===t&&(t=!1);for(var e=[],o=[],u=[],r=function(o){void 0===u.find(function(n){return n.equals(o.p1)})&&(e.push.apply(e,i.createNodesForWallEnd(o.p1,o.p2,l,n,t)),u.push(o.p1)),void 0===u.find(function(n){return n.equals(o.p2)})&&(e.push.apply(e,i.createNodesForWallEnd(o.p2,o.p1,l,n,t)),u.push(o.p2))},i=this,a=0,s=n;a<s.length;a++){r(s[a])}for(var c=function(l){for(var t=function(t){void 0===o.find(function(n){return n.p1.x===l.x&&n.p1.y===l.y&&n.p2.x===t.x&&n.p2.y===t.y||n.p1.x===t.x&&n.p1.y===t.y&&n.p2.x===l.x&&n.p2.y===l.y})&&(p.checkIntersectionOfLineWithLines(l.x,l.y,t.x,t.y,n,-1e-5)?o.push(new Un(new $n(l.x,l.y,!1),new $n(t.x,t.y,!1))):p.linkNodes(e.find(function(n){return n.x===l.x&&n.y===l.y}),e.find(function(n){return n.x===t.x&&n.y===t.y})))},u=0,r=e.filter(function(n){return n!==l});u<r.length;u++){t(r[u])}},p=this,d=0,_=e;d<_.length;d++){c(_[d])}return new Nn(e,null)},n.insertPointsToFloorGraph=function(n,l,t){for(var e=0,o=n;e<o.length;e++){var u=o[e];if(null!==u&&void 0!==u){var r=new el(u.x,u.y);l.nodes.push(r);for(var i=0,a=l.nodes;i<a.length;i++){var s=a[i];this.checkIntersectionOfLineWithLines(r.x,r.y,s.x,s.y,t,-1e-5)||this.linkNodes(r,s)}}}},n.generatePath=function(n,l,t,e){void 0===e&&(e=!0);for(var o=new Nn,u=0,r=t.floorGraph.nodes;u<r.length;u++){var i=r[u];o.nodes.push(i)}if(e){var a=[];void 0===t.getAllSelectables().map(function(n){return n.center}).find(function(l){return l.x===n.x&&l.y===n.y})&&a.push(n),void 0===t.getAllSelectables().map(function(n){return n.center}).find(function(n){return n.x===l.x&&n.y===l.y})&&a.push(l),this.insertPointsToFloorGraph([n,l],o,t.walls)}var s=this.findPathFromTo(o.nodes,o.nodes.find(function(l){return l.x===n.x&&l.y===n.y}),o.nodes.find(function(n){return n.x===l.x&&n.y===l.y}));if(t.floorGraph.paths.push(new tl),null!==s)for(var c=1;c<s.length;c++)t.floorGraph.paths[t.floorGraph.paths.length-1].path.push(new Un(new $n(s[c].x,s[c].y,!1),new $n(s[c-1].x,s[c-1].y,!1)))},n.generateTeleporterGraphOnMap=function(n){var l=[],t=[];this.clearAllFloorGraphs(n);for(var e=0,o=n.floors;e<o.length;e++){for(var u=o[e],r=[],i=0,a=u.getAllTeleporters();i<a.length;i++){var s=a[i];r.push(new ol(s,n.floors.indexOf(u)))}for(var c=function(l){for(var e=function(e){if(l!==e&&void 0===t.find(function(n){return n.p1.x===l.teleporter.center.x&&n.p1.y===l.teleporter.center.y&&n.p2.x===e.teleporter.center.x&&n.p2.y===e.teleporter.center.y||n.p1.x===e.teleporter.center.x&&n.p1.y===e.teleporter.center.y&&n.p2.x===l.teleporter.center.x&&n.p2.y===l.teleporter.center.y})){if(null!==l.teleporter.group&&null!==e.teleporter.group&&(p.generatePath(l.teleporter.center,e.teleporter.center,u),u.floorGraph.paths[u.floorGraph.paths.length-1].path.length>0)){var o=u.floorGraph.paths[u.floorGraph.paths.length-1].getLength();l.links.push(e),l.costs.push(o),e.links.push(l),e.costs.push(o)}t.push({p1:l.teleporter.center,p2:e.teleporter.center,lvl1:n.floors.indexOf(u),lvl2:n.floors.indexOf(u)})}},o=0,i=r;o<i.length;o++){e(i[o])}},p=this,d=0,_=r;d<_.length;d++){c(g=_[d])}l.push.apply(l,r)}for(var f=function(n){for(var e=function(l){if(n!==l&&null!==n.teleporter.group&&null!==l.teleporter.group&&n.floorLevel!==l.floorLevel&&(n.teleporter instanceof Kn&&l.teleporter instanceof Kn||n.teleporter instanceof Gn&&l.teleporter instanceof Gn)&&void 0===t.find(function(t){return t.p1.x===n.teleporter.center.x&&t.p1.y===n.teleporter.center.y&&t.p2.x===l.teleporter.center.x&&t.p2.y===l.teleporter.center.y&&t.lvl1===n.floorLevel&&t.lvl2===l.floorLevel||t.p1.x===l.teleporter.center.x&&t.p1.y===l.teleporter.center.y&&t.p2.x===n.teleporter.center.x&&t.p2.y===n.teleporter.center.y&&t.lvl1===l.floorLevel&&t.lvl2===n.floorLevel})){if(n.teleporter.group===l.teleporter.group){var e=Math.sqrt(Math.pow(l.teleporter.center.x-n.teleporter.center.x,2)+Math.pow(l.teleporter.center.y-n.teleporter.center.y,2)),o=500*(l.floorLevel-n.floorLevel),u=Math.sqrt(Math.pow(e,2)+Math.pow(o,2));n.links.push(l),n.costs.push(u),l.links.push(n),l.costs.push(u)}t.push({p1:n.teleporter.center,p2:l.teleporter.center,lvl1:n.floorLevel,lvl2:l.floorLevel})}},o=0,u=l;o<u.length;o++){e(u[o])}},h=0,m=l;h<m.length;h++){var g=m[h];f(g)}n.stairGraph=l},n.generateGlobalPath=function(n,l,t,e,o){if(this.clearAllFloorGraphs(o),l===e){if(this.generatePath(n,t,o.floors[l]),o.floors[l].floorGraph.paths[o.floors[l].floorGraph.paths.length-1].path.length>0)return;if(n.equals(t))return}var u=[];Object.assign(u,o.stairGraph);for(var r=new ol(new Kn("start point",new $n(n.x+10,n.y+10,!1),new $n(n.x-10,n.y-10,!1)),l),i=new ol(new Kn("end point",new $n(t.x+10,t.y+10,!1),new $n(t.x-10,t.y-10,!1)),e),a=0,s=u;a<s.length;a++){var c=s[a];if(c.floorLevel===l){if(c.teleporter.center.equals(r.teleporter.center)){c.links.push(r),c.costs.push(0),r.links.push(c),r.costs.push(0);continue}if(this.generatePath(n,c.teleporter.center,o.floors[l]),o.floors[l].floorGraph.paths[o.floors[l].floorGraph.paths.length-1].path.length>0){p=o.floors[l].floorGraph.paths[o.floors[l].floorGraph.paths.length-1].getLength();c.links.push(r),c.costs.push(p),r.links.push(c),r.costs.push(p)}}if(c.floorLevel===e){if(c.teleporter.center.equals(i.teleporter.center)){c.links.push(i),c.costs.push(0),i.links.push(c),i.costs.push(0);continue}if(this.generatePath(t,c.teleporter.center,o.floors[e]),o.floors[e].floorGraph.paths[o.floors[e].floorGraph.paths.length-1].path.length>0){var p=o.floors[e].floorGraph.paths[o.floors[e].floorGraph.paths.length-1].getLength();c.links.push(i),c.costs.push(p),i.links.push(c),i.costs.push(p)}}}u.push(r,i);var d=this.findStairPathFromTo(u,r,i);if(this.clearAllFloorGraphs(o),null!==d&&d.length>0)for(var _=l,f=1;f<d.length;f++)if(d[f].floorLevel===_){this.generatePath(d[f-1].teleporter.center,d[f].teleporter.center,o.floors[_]);var h=o.floors[_].floorGraph;if(f<d.length-1&&d[f+1].floorLevel!==_){var m=d[f+1].floorLevel-_;h.paths[h.paths.length-1].description=+Math.abs(m)+" Floor"+(m>1?"s":"")+(Math.sign(m)>0?" Up.":" Down.")}}else _=d[f].floorLevel;else this.clearAllFloorGraphs(o)},n.clearAllFloorGraphs=function(n){for(var l=0,t=n.floors;l<t.length;l++){t[l].floorGraph.paths=[]}},n.findStairPathFromTo=function(n,l,t){if(l===t||n.indexOf(l)===n.indexOf(t))return[l];for(var e=[],o=[],u=[],r=0;r<n.length;r++)o.push(n[r]===l?0:Number.MAX_VALUE),u.push(n[r]);return e.push(l),this.calculateStairPath(n,o,u,[],e,t,0)},n.calculateStairPath=function(n,l,t,e,o,u,r){for(var i=Number.MAX_VALUE,a=i,s=null,c=-1,p=0,d=o;p<d.length;p++)for(var _=d[p],f=0;f<_.links.length;f++)(a=l[n.indexOf(_)]+_.costs[f])<l[n.indexOf(_.links[f])]&&(l[n.indexOf(_.links[f])]=a,t[n.indexOf(_.links[f])]=_),o.indexOf(_.links[f])<0&&(e.indexOf(_.links[f])<0&&e.push(_.links[f]),a<i&&(i=a,s=_,c=f));if(0===e.length)return null;if(e.splice(e.indexOf(s.links[c]),1),o.push(s.links[c]),o.indexOf(u)<0)return this.calculateStairPath(n,l,t,e,o,u,r+1);var h=[];for(h.push(u);t[n.indexOf(h[h.length-1])]!==h[h.length-1];)h.push(t[n.indexOf(h[h.length-1])]);return h.reverse(),h},n}(),al=function(){function n(n,l,t){this.modelSvc=n,this.router=l,this.messageSvc=t}return n.prototype.resolve=function(n,l){var t=this,e=n.params.mapId;return yn.a.create(function(n){t.modelSvc.loadMap("new"===e?-1:Number.parseInt(e)).subscribe(function(l){l?t.onMapLoaded():(t.router.navigate([""]),t.messageSvc.notify("Map not existing or access denied. Are you logged in?")),n.next(null),n.complete()})})},n.prototype.onMapLoaded=function(){for(var n=0,l=this.modelSvc.currentMap.floors;n<l.length;n++){(o=l[n]).floorGraph=il.createLinkedFloorGraph(o.walls.slice(),45,!1),il.insertPointsToFloorGraph(o.stairways.map(function(n){return n.center}),o.floorGraph,o.walls)}il.generateTeleporterGraphOnMap(this.modelSvc.currentMap);for(var t=0,e=this.modelSvc.currentMap.floors;t<e.length;t++){var o=e[t];o.floorGraph.paths=[]}},n.ctorParameters=function(){return[{type:Zn},{type:kn.k},{type:mn}]},n}(),sl=function(){function n(n,l,t,e,o,u,r,i){this.modelSvc=n,this.userSvc=l,this.router=t,this.route=e,this.mapResolver=o,this.nameDialog=u,this.deleteDialog=r,this.publishDialog=i,this.elevated=!0,this.editMode=!1}return Object.defineProperty(n.prototype,"hasMap",{get:function(){return null!==this.modelSvc.currentMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canEdit",{get:function(){return 1===this.modelSvc.currentMap.permission},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mapId",{get:function(){return this.modelSvc.currentMap&&this.modelSvc.currentMap.id||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirty",{get:function(){return this.modelSvc.currentMap.dirty},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.openNameDialog=function(){this.nameDialog.open(nl,{width:"250px"})},n.prototype.openDeleteDialog=function(){this.deleteDialog.open(Qn,{width:"250px"})},n.prototype.openPublishDialog=function(){this.publishDialog.open(ll,{width:"250px"})},n.prototype.saveCurrentMap=function(){var n=this;this.modelSvc.saveMap(function(l){n.modelSvc.currentMap.storeClean()})},n.prototype.discardOrExit=function(){this.dirty?this.modelSvc.loadMap(this.modelSvc.currentMapId).subscribe():null===this.mapId||-1===this.mapId?this.router.navigate([""]):this.router.navigate(["/map",this.mapId])},n.ctorParameters=function(){return[{type:Zn},{type:vn},{type:kn.k},{type:kn.a},{type:al},{type:hn.b},{type:hn.b},{type:hn.b}]},n}(),cl=t("w24y"),pl=[["[_nghost-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:550}.mat-toolbar[_ngcontent-%COMP%]{width:100%;height:100%;background:none;transition:box-shadow .4s ease-in}.mat-toolbar.mat-elevation-z6[_ngcontent-%COMP%]{transition:box-shadow .2s ease-out}.mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 8px}@media only screen and (max-width:750px){.mat-toolbar[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{min-width:35px}.toolbar-text[_ngcontent-%COMP%]{display:none}}.fill-remaining-space[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.mat-form-field[_ngcontent-%COMP%]{font-size:.5em}#editname[_ngcontent-%COMP%]{position:relative;top:5px;left:5px}#openDialog[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{opacity:0}#openDialog[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover + .mat-icon[_ngcontent-%COMP%]{transition:opacity .35s ease-in;opacity:1}#back[_ngcontent-%COMP%]{z-index:auto;margin-left:-8px}"]],dl=cn._20({encapsulation:0,styles:pl,data:{}}),_l=(cn._18("app-toolbar",sl,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-toolbar",[],null,null,null,_,dl)),cn._21(1,114688,null,0,sl,[Zn,vn,kn.k,kn.a,al,cl.d,cl.d,cl.d],null,null)],function(n,l){n(l,1,0)},null)},{elevated:"elevated",editMode:"editMode"},{},[]),t("dYU3")),fl=t("0EVt"),hl=t("jk5D"),ml=t("4jwp"),gl=t("z4MQ"),bl=t("Ioj9"),yl=(t("HECM"),function(){function n(n,l){this.modelSvc=n,this.userSvc=l}return Object.defineProperty(n.prototype,"maps",{get:function(){var n=this;return Object.keys(this.modelSvc.maps).map(function(l){return n.modelSvc.maps[Number(l)]})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLoggedIn",{get:function(){return this.userSvc.isLoggedIn},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.modelSvc.loadMapList().subscribe()},n.ctorParameters=function(){return[{type:Zn},{type:vn}]},n}()),vl=[["#card[_ngcontent-%COMP%]{box-sizing:border-box;margin:5% auto;max-width:400px;width:90%}.mat-list-item[_ngcontent-%COMP%]{transition:background-color .3s ease-in}.mat-list-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.fab[_ngcontent-%COMP%]{float:right;background-color:#ff6d00!important}"]],xl=cn._20({encapsulation:0,styles:vl,data:{}}),wl=(cn._18("app-map-list",yl,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-map-list",[],null,null,null,m,xl)),cn._21(1,114688,null,0,yl,[Zn,vn],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),function(){function n(n){this.modelSvc=n}return n.prototype.onScroll=function(){this.isScrolled=window.pageYOffset>0},n.ctorParameters=function(){return[{type:Zn}]},n}()),Ol=[["h1[_ngcontent-%COMP%]{font-family:Roboto;font-weight:400;text-align:center}h1[_ngcontent-%COMP%]   #innerTitle[_ngcontent-%COMP%]{font-weight:100}#icon[_ngcontent-%COMP%]{width:150px;height:150px;margin:0 auto;display:block}"]],Sl=cn._20({encapsulation:0,styles:Ol,data:{}}),Ml=cn._18("ng-component",wl,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"ng-component",[],null,[["window","scroll"]],function(n,l,t){var e=!0;return"window:scroll"===l&&(e=!1!==cn._37(n,1).onScroll(t)&&e),e},g,Sl)),cn._21(1,49152,null,0,wl,[Zn],null,null)],null,null)},{},{},[]),kl=t("6OSA"),Pl=t("Lpd/"),jl=t("bm2B"),Cl=t("SlD5"),Il=function(){function n(n,l){this.mouse=n,this.modelSvc=l}return Object.defineProperty(n.prototype,"name",{get:function(){return"Directions Tool"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"icon",{get:function(){return"select"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cursorShape",{get:function(){return"pointer"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"floor",{get:function(){return this.modelSvc.currentFloor},enumerable:!0,configurable:!0}),n.prototype.getFloorPointBelowCursor=function(n){return this.floor.getExistingOrThisPoint(new $n(this.mouse.x,this.mouse.y),n)},n.prototype.getExistingObjectsBelowCursor=function(n){var l=this;void 0===n&&(n=10);var t=new $n(this.mouse.x,this.mouse.y),e=this.floor.getExistingOrThisPoint(t,[],!0);if(e)return{points:[e],obj:null};var o=this.floor.getExistingOrThisPoint(t,[],!0,this.floor.elevators.map(function(n){return n.center}));if(o)return{points:[o],obj:this.floor.elevators.find(function(n){return n.center.equals(o)})};var u=this.floor.walls.concat(this.floor.portals,this.floor.stairways).map(function(n){return{distance:l.pointDistance(l.mouse.x,l.mouse.y,n.p1.x,n.p1.y,n.p2.x,n.p2.y),line:n}});if(u.length){var r=u.reduce(function(n,l){return n.distance>l.distance?l:n});if(r.distance<=n)return{points:[r.line.p1,r.line.p2],obj:r.line}}return{points:[],obj:null}},n.prototype.markDirty=function(){this.modelSvc.currentMap.dirty=!0},n.prototype.pointDistance=function(n,l,t,e,o,u){var r,i,a=(n-t)*(o-t)+(l-e)*(u-e),s=Math.pow(o-t,2)+Math.pow(u-e,2),c=0!==s?a/s:-1;return c<0?(r=t,i=e):c>1?(r=o,i=u):(r=t+c*(o-t),i=e+c*(u-e)),Math.sqrt(Math.pow(n-r,2)+Math.pow(l-i,2))},n}(),Fl=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ql=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Fl(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"Delete"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"icon",{get:function(){return"delete"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"cursorShape",{get:function(){return"pointer"},enumerable:!0,configurable:!0}),l.prototype.onMouseDown=function(n){},l.prototype.onMouseUp=function(n){var l=this.getExistingObjectsBelowCursor().obj;l&&(this.markDirty(),this.floor.walls=this.floor.walls.filter(function(n){return n!==l}),this.floor.portals=this.floor.portals.filter(function(n){return n!==l}),this.floor.stairways=this.floor.stairways.filter(function(n){return n!==l}),this.floor.elevators=this.floor.elevators.filter(function(n){return n!==l}),this.modelSvc.selectedObjects=[])},l.prototype.onMouseMove=function(n){},l}(Il),Rl=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tl=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Rl(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"Directions"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"icon",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"cursorShape",{get:function(){return"pointer"},enumerable:!0,configurable:!0}),l.prototype.onMouseDown=function(n){this.dragOrigin={x:n.x,y:n.y},this.panDragOrigin={x:this.modelSvc.panOffset.x,y:this.modelSvc.panOffset.y}},l.prototype.onMouseUp=function(n){var l=this.getExistingObjectsBelowCursor().obj;this.selectWaypoint(l),this.dragOrigin=null,this.panDragOrigin=null},l.prototype.onMouseMove=function(n){if(this.panDragOrigin){var l=this.modelSvc.canvasSize.x/this.modelSvc.viewportSize.x;this.modelSvc.panOffset.x=this.panDragOrigin.x-(n.x-this.dragOrigin.x)*l,this.modelSvc.panOffset.y=this.panDragOrigin.y-(n.y-this.dragOrigin.y)*l}},l.prototype.selectWaypoint=function(n,l){if(void 0===l&&(l=null),b(n)){if(null===l||void 0===l)for(var t=0,e=this.modelSvc.currentMap.floors;t<e.length;t++)for(var o=e[t],u=0,r=o.getAllSelectables();u<r.length;u++){r[u]===n&&(l=this.modelSvc.currentMap.floors.indexOf(o))}2===this.modelSvc.selectedObjects.length&&(this.modelSvc.selectedObjects=[],il.clearAllFloorGraphs(this.modelSvc.currentMap)),this.modelSvc.selectedObjects.length?il.generateGlobalPath(n.center,l,this.selectedDest1.p,this.selectedDest1.fid,this.modelSvc.currentMap):this.selectedDest1={p:n.center,fid:l},this.modelSvc.selectedObjects.push(n)}else this.modelSvc.selectedObjects=[]},l}(Il),Ll=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dl=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Ll(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"Place Elevator"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"icon",{get:function(){return"elevator"},enumerable:!0,configurable:!0}),l.prototype.onMouseDown=function(n){var l=this.getFloorPointBelowCursor();this.point=l.clone();var t=new Gn("New Elevator",this.point);this.floor.elevators.push(t),this.modelSvc.selectedObjects=[t],this.markDirty()},l.prototype.onMouseUp=function(n){this.floor.joinPoints(this.getFloorPointBelowCursor([this.point]),this.point),this.point=null},l.prototype.onMouseMove=function(n){this.point&&this.point.setCoords(this.mouse.x,this.mouse.y)},l}(Il),El=function(){function n(n){this.modelSvc=n,this._x=null,this._y=null}return Object.defineProperty(n.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"xs",{get:function(){return null!==this.x&&null!==this.y?$n.snapCoords(this._x,this._y).x:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ys",{get:function(){return null!==this.x&&null!==this.y?$n.snapCoords(this._x,this._y).y:null},enumerable:!0,configurable:!0}),n.prototype.onMouseDown=function(n){var l=this.convertTouchEvent(n);return l&&(this.mapToCanvas(l),this.tool&&this.tool.onMouseDown(l)),!1},n.prototype.onMouseUp=function(n){var l=this.convertTouchEvent(n);this.tool&&l&&this.tool.onMouseUp(l)},n.prototype.onMouseMove=function(n){var l=this.convertTouchEvent(n);l&&(this.mapToCanvas(l),this.tool&&this.tool.onMouseMove(l))},n.prototype.onMouseLeave=function(n){this._x=null,this._y=null},n.prototype.convertTouchEvent=function(n){return n.touches?1===n.touches.length?new MouseEvent(n.type,{clientX:n.touches[0].clientX,clientY:n.touches[0].clientY}):null:n},n.prototype.onWheel=function(n){var l=-n.deltaY/Math.abs(n.deltaY)*.05+1;this.modelSvc.currentMap.zoom(l,this,n.x,n.y),this.onMouseMove(n)},n.prototype.onPinch=function(n){this.onMouseMove(new MouseEvent(n.type,{clientX:n.center.x,clientY:n.center.y})),this.modelSvc.currentMap.zoom(n.scale,this,n.center.x,n.center.y,!0)},n.prototype.onPinchEnd=function(n){this.modelSvc.currentMap.updateCanvasSize(this.modelSvc.canvasSize.x,1)},n.prototype.mapToCanvas=function(n){if(this.modelSvc.currentMap&&this.modelSvc.currentMap.getMapDimensions(),n){var l=this.modelSvc.canvasSize.x/this.modelSvc.viewportSize.x,t=Math.round((n.x-this.modelSvc.bodyOffset.x)*l+this.modelSvc.panOffset.x),e=Math.round((n.y-this.modelSvc.bodyOffset.y)*l+this.modelSvc.panOffset.y);Number.isNaN(t)||Number.isNaN(e)||(this._x=t,this._y=e)}},n}(),Al=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),zl=function(n){function l(){var l=null!==n&&n.apply(this,arguments)||this;return l.selected=[],l}return Al(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"Move"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"icon",{get:function(){return"move"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"cursorShape",{get:function(){return this.selected.length?"grabbing":"grab"},enumerable:!0,configurable:!0}),l.prototype.onMouseDown=function(n){this.dragOrigin={x:this.mouse.x,y:this.mouse.y},this.selected=this.getExistingObjectsBelowCursor().points.map(function(n){return{origin:n.clone(),current:n}}),this.selected.length?this.markDirty():(this.dragOrigin={x:n.x,y:n.y},this.panDragOrigin={x:this.modelSvc.panOffset.x,y:this.modelSvc.panOffset.y})},l.prototype.onMouseUp=function(n){for(var l=0,t=this.selected;l<t.length;l++){var e=t[l];this.floor.joinPoints(this.floor.getExistingOrThisPoint(e.current),e.current)}this.selected=[],this.dragOrigin=null,this.panDragOrigin=null},l.prototype.onMouseMove=function(n){for(var l=0,t=this.selected;l<t.length;l++){var e=t[l];e.current.setCoords(e.origin.x+(this.mouse.xs-this.dragOrigin.x),e.origin.y+(this.mouse.ys-this.dragOrigin.y))}if(this.panDragOrigin){var o=this.modelSvc.canvasSize.x/this.modelSvc.viewportSize.x;this.modelSvc.panOffset.x=this.panDragOrigin.x-(n.x-this.dragOrigin.x)*o,this.modelSvc.panOffset.y=this.panDragOrigin.y-(n.y-this.dragOrigin.y)*o}},l}(Il),Gl=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nl=function(n){function l(){var l=null!==n&&n.apply(this,arguments)||this;return l.point=null,l}return Gl(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"Draw Generic Line"},enumerable:!0,configurable:!0}),l.prototype.onMouseDown=function(n){var l=this.getFloorPointBelowCursor();this.point=l.clone(),this.createLine(l,this.point),this.markDirty()},l.prototype.onMouseUp=function(n){this.floor.joinPoints(this.getFloorPointBelowCursor([this.point]),this.point),this.point=null},l.prototype.onMouseMove=function(n){return this.point&&this.point.setCoords(this.mouse.x,this.mouse.y),!0},l}(Il),$l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ul=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return $l(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"Draw Portal"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"icon",{get:function(){return"portal"},enumerable:!0,configurable:!0}),l.prototype.createLine=function(n,l){var t=new Bn("New Portal",n,l);this.floor.portals.push(t),this.modelSvc.selectedObjects=[t]},l}(Nl),Vl=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bl=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Vl(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"Properties"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"icon",{get:function(){return"select"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"cursorShape",{get:function(){return"pointer"},enumerable:!0,configurable:!0}),l.prototype.onMouseDown=function(n){},l.prototype.onMouseUp=function(n){var l=this.getExistingObjectsBelowCursor().obj;this.modelSvc.selectedObjects=b(l)?[l]:[]},l.prototype.onMouseMove=function(n){},l}(Il),Wl=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yl=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Wl(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"Draw Stairs"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"icon",{get:function(){return"stairs"},enumerable:!0,configurable:!0}),l.prototype.createLine=function(n,l){var t=new Kn("New Stairs",n,this.point);this.floor.stairways.push(t),this.modelSvc.selectedObjects=[t]},l}(Nl),Jl=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function e(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kl=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Jl(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"Draw Wall"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"icon",{get:function(){return"wall"},enumerable:!0,configurable:!0}),l.prototype.createLine=function(n,l){this.floor.walls.push(new Yn(n,this.point))},l}(Nl),Xl=function(){function n(n){this.modelSvc=n,this.toolbox=[],this.mouse=new El(this.modelSvc),this.toolbox=[new zl(this.mouse,this.modelSvc),new Bl(this.mouse,this.modelSvc),new ql(this.mouse,this.modelSvc),new Kl(this.mouse,this.modelSvc),new Ul(this.mouse,this.modelSvc),new Yl(this.mouse,this.modelSvc),new Dl(this.mouse,this.modelSvc),new Tl(this.mouse,this.modelSvc)],this.selectTool(this.toolbox[0].name)}return Object.defineProperty(n.prototype,"selectedTool",{get:function(){return this.mouse.tool},enumerable:!0,configurable:!0}),n.prototype.selectTool=function(n){this.mouse.tool=this.toolbox.find(function(l){return l.name===n})||null},n.ctorParameters=function(){return[{type:Zn}]},n}(),Hl=function(){function n(n,l){this.modelSvc=n,this.toolSvc=l,this.close=new cn.s,this.searchQuery=""}return Object.defineProperty(n.prototype,"currentMap",{get:function(){return this.modelSvc.currentMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedObjects",{get:function(){return this.modelSvc.selectedObjects},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"floors",{get:function(){return this.modelSvc.currentMap&&this.modelSvc.currentMap.floors},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"singleSelectedObject",{get:function(){return this.modelSvc.singleSelectedObject},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.selectWaypoint=function(n){this.toolSvc.selectedTool instanceof Tl&&(this.toolSvc.selectedTool.selectWaypoint(n),this.searchQuery="",this.search("")),2===this.selectedObjects.length&&(this.search(""),this.close.emit("event"))},n.prototype.search=function(n){this.currentMap.search(n),this.currentMap.fitToViewport()},n.prototype.onCancelClick=function(){this.modelSvc.selectedObjects=[],this.searchQuery="",il.clearAllFloorGraphs(this.modelSvc.currentMap)},n.ctorParameters=function(){return[{type:Zn},{type:Xl}]},n}(),Zl=[[""]],Ql=cn._20({encapsulation:0,styles:Zl,data:{}}),nt=(cn._18("app-side-search",Hl,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-side-search",[],null,null,null,k,Ql)),cn._21(1,114688,null,0,Hl,[Zn,Xl],null,null)],function(n,l){n(l,1,0)},null)},{},{close:"close"},[]),function(){function n(n,l){this.modelSvc=n,this.toolSvc=l}return Object.defineProperty(n.prototype,"tools",{get:function(){return this.toolSvc.toolbox.filter(function(n){return n.icon})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedTool",{get:function(){return this.toolSvc.selectedTool},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.selectTool=function(n){this.toolSvc.selectTool(n)},n.prototype.changeBackgroundImage=function(n){var l=this;if(n&&n.type.match("image.*")){var t=new FileReader;t.addEventListener("load",function(){l.modelSvc.backgroundImageDataURL=t.result},!1),t.readAsDataURL(n)}},n.ctorParameters=function(){return[{type:Zn},{type:Xl}]},n}()),lt=[[".tool-buttons[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]{display:block;width:100%;text-align:left}"]],tt=cn._20({encapsulation:0,styles:lt,data:{}}),et=(cn._18("app-side-tools",nt,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-side-tools",[],null,null,null,j,tt)),cn._21(1,114688,null,0,nt,[Zn,Xl],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),t("8oXs")),ot=t("EPfU"),ut=t("gOiy"),rt=function(){function n(n,l){this.modelSvc=n,this.toolSvc=l}return Object.defineProperty(n.prototype,"floors",{get:function(){return this.modelSvc.currentMap&&this.modelSvc.currentMap.floors},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentFloor",{get:function(){return this.modelSvc.currentFloor},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"singleSelectedObject",{get:function(){return this.modelSvc.singleSelectedObject},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"connectibleTeleporterGroups",{get:function(){return this.modelSvc.connectibleTeleporterGroups},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.getTeleporterGroupDisplayName=function(n){var l=this;return"Group "+n.group+": "+n.members.map(function(n){var t=l.floors.find(function(l){return-1!==l.stairways.indexOf(n)||-1!==l.elevators.indexOf(n)});return{index:l.floors.indexOf(t),floorLabel:t.label||"?",stairsLabel:n.label||"?"}}).sort(function(n,l){return n.index-l.index||n.stairsLabel.toUpperCase().localeCompare(l.stairsLabel.toUpperCase())}).map(function(n){return n.stairsLabel+" ("+n.floorLabel+")"}).join(", ")},n.prototype.setTeleporterGroup=function(n,l){(function(n){return n&&void 0!==n.group})(this.singleSelectedObject)&&(n.group=void 0===l?Math.max.apply(Math,[0].concat(this.connectibleTeleporterGroups.reduce(function(n,l){return n.concat(l.group)},[])))+1:l),this.modelSvc.updateConnectibleTeleporterGroups(),this.markDirty()},n.prototype.markDirty=function(){this.modelSvc.currentMap.dirty=!0},n.ctorParameters=function(){return[{type:Zn},{type:Xl}]},n}(),it=[[""]],at=cn._20({encapsulation:0,styles:it,data:{}}),st=(cn._18("app-side-properties",rt,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-side-properties",[],null,null,null,R,at)),cn._21(1,114688,null,0,rt,[Zn,Xl],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),t("078K")),ct=t("e0rv"),pt=function(){function n(n,l){this.modelSvc=n,this.toolSvc=l,this.editMode=!1,this.showLabels=!0}return Object.defineProperty(n.prototype,"currentMap",{get:function(){return this.modelSvc.currentMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentFloor",{get:function(){return this.modelSvc.currentFloor},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mouse",{get:function(){return this.toolSvc.mouse},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tool",{get:function(){return this.toolSvc.selectedTool},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewBoxString",{get:function(){return(this.modelSvc.panOffset.x||0)+" "+(this.modelSvc.panOffset.y||0)+" "+(this.modelSvc.canvasSize.x||0)+" "+(this.modelSvc.canvasSize.y||0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"movingPaths",{get:function(){return this.currentFloor&&this.currentFloor.floorGraph.paths||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backgroundImageDataURL",{get:function(){return this.modelSvc.backgroundImageDataURL},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.modelSvc.editorCanvas=this.editorCanvas},n.prototype.getSelectableColor=function(n){return-1!==this.modelSvc.selectedObjects.indexOf(n)?"#0d47a1":-1!==this.currentFloor.searchResults.indexOf(n)?"#b71c1c":"#afafaf"},n.ctorParameters=function(){return[{type:Zn},{type:Xl}]},n}(),dt=[["#editorCanvas[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;user-drag:none;-webkit-user-drag:none;box-sizing:content-box}"]],_t=cn._20({encapsulation:0,styles:dt,data:{}}),ft=(cn._18("app-svg",pt,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-svg",[],null,null,null,K,_t)),cn._21(1,114688,null,0,pt,[Zn,Xl],null,null)],function(n,l){n(l,1,0)},null)},{editMode:"editMode",showLabels:"showLabels"},{},[]),function(){function n(n,l,t,e,o,u,r){this.modelSvc=n,this.msgSvc=l,this.toolSvc=t,this.route=e,this.router=o,this.editMode=!1,this.showLabels=!0,this.sideNavMode="over",this.onMobile=!1,this.urlMapIdString="",u.addSvgIcon("move",r.bypassSecurityTrustResourceUrl("assets/icons/move.svg")),u.addSvgIcon("wall",r.bypassSecurityTrustResourceUrl("assets/icons/pencil.svg")),u.addSvgIcon("select",r.bypassSecurityTrustResourceUrl("assets/icons/cursor.svg")),u.addSvgIcon("delete",r.bypassSecurityTrustResourceUrl("assets/icons/delete.svg")),u.addSvgIcon("portal",r.bypassSecurityTrustResourceUrl("assets/icons/portal.svg")),u.addSvgIcon("stairs",r.bypassSecurityTrustResourceUrl("assets/icons/stairs.svg")),u.addSvgIcon("elevator",r.bypassSecurityTrustResourceUrl("assets/icons/elevator.svg"))}return Object.defineProperty(n.prototype,"currentMap",{get:function(){return this.modelSvc.currentMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"floors",{get:function(){return this.currentMap?this.currentMap.floors:null},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.route.url.subscribe(function(){var l=n.route.snapshot;n.urlMapIdString=l.params.mapId;"edit"===l.routeConfig.path?n.switchToEditMode():n.switchToViewMode(),setTimeout(function(){n.fitToViewport()},0)})},n.prototype.zoom=function(n){this.currentMap.zoom(n)},n.prototype.fitToViewport=function(){this.currentMap.fitToViewport()},n.prototype.switchToEditMode=function(){this.editMode=!0,this.modelSvc.currentMap&&il.clearAllFloorGraphs(this.modelSvc.currentMap),this.toolSvc.selectTool("Move"),this.sideNavMode="side",this.sidenav.open(),window.innerWidth<=650&&(this.onMobile=!0,this.sidenav.close(),this.sideNavMode="over")},n.prototype.switchToViewMode=function(){this.editMode=!1,this.toolSvc.selectTool("Directions"),this.sideNavMode="over",this.sidenav.close()},n.prototype.canDeactivateComponent=function(){return this.editMode&&this.modelSvc.currentMap&&this.modelSvc.currentMap.dirty?(this.msgSvc.notify("You have unsaved changes. Please save or discard them.","Warning"),yn.a.of(!1)):(this.modelSvc.currentMapId=null,yn.a.of(!0))},n.prototype.onResize=function(){this.currentMap.fitToViewport()},n.prototype.closeSidenav=function(n){this.sidenav.close()},n.ctorParameters=function(){return[{type:Zn},{type:mn},{type:Xl},{type:kn.a},{type:kn.k},{type:hn.d},{type:pn.c}]},n}()),ht=t("wMO1"),mt=t("k7z1"),gt=t("ka8K"),bt=function(){function n(n){this.modelSvc=n,this.editMode=!1}return Object.defineProperty(n.prototype,"currentMap",{get:function(){return this.modelSvc.currentMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"floors",{get:function(){return this.modelSvc.currentMap&&this.modelSvc.currentMap.floors},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentFloor",{get:function(){return this.modelSvc.currentFloor},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.selectFloor=function(n){this.modelSvc.setCurrentFloor(n)},n.prototype.createFloor=function(n){void 0===n&&(n=null),this.currentMap.createFloor(n),this.selectFloor(this.floors.length-1)},n.prototype.moveFloor=function(n,l){var t=this.currentMap.moveFloor(n,l);this.selectFloor(t)},n.prototype.removeFloor=function(n){this.selectFloor(0),this.currentMap.removeFloor(n)},n.ctorParameters=function(){return[{type:Zn}]},n}(),yt=[["[_nghost-%COMP%]{-ms-flex-preferred-size:content;flex-basis:content;margin:1%;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);background-color:#fff}#floor-button-container[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;background-color:#fff}.mat-raised-button[_ngcontent-%COMP%]{background-color:#ff9100}#floor-spacer[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.floor-button[_ngcontent-%COMP%]{margin:3px}.search-result-floor[_ngcontent-%COMP%]{color:#b71c1c}"]],vt=cn._20({encapsulation:0,styles:yt,data:{}}),xt=(cn._18("app-floor-controls",bt,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-floor-controls",[],null,null,null,Z,vt)),cn._21(1,114688,null,0,bt,[Zn],null,null)],function(n,l){n(l,1,0)},null)},{editMode:"editMode"},{},[]),[["[_nghost-%COMP%]{position:absolute;top:65px;bottom:0;left:0;right:0;-webkit-box-orient:horizontal;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-ms-flex-line-pack:distribute;align-content:space-around}.mat-sidenav-container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.mat-sidenav-container[_ngcontent-%COMP%]{height:100%;width:100%;background-color:transparent;z-index:0;-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;min-width:300px}.left-sidenav[_ngcontent-%COMP%]{width:250px;-webkit-box-flex:initial;-ms-flex:initial;flex:initial;height:100%;overflow-y:auto;overflow-x:hidden;padding:0 12px 12px}app-side-properties[_ngcontent-%COMP%], app-side-search[_ngcontent-%COMP%], app-side-tools[_ngcontent-%COMP%]{padding:10px;margin:10px 0;background-color:#eee;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.left-sidenav[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:relative;top:5px;left:5px}#viewer-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 300px;flex:1 1 300px;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.sidenav-button[_ngcontent-%COMP%]{position:absolute;top:25px;left:25px;z-index:550}#canvas-container[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:auto;flex:auto;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);margin:1% 1% 0}#zoom-button-container[_ngcontent-%COMP%]{position:absolute;bottom:12px;right:12px}.zoom-button[_ngcontent-%COMP%]{min-width:unset;line-height:unset;padding:2px;display:block;margin:2px}.panel[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin:0 2em}"]]),wt=cn._20({encapsulation:0,styles:xt,data:{}}),Ot=cn._18("app-map-page",ft,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-map-page",[],null,[["window","resize"]],function(n,l,t){var e=!0;return"window:resize"===l&&(e=!1!==cn._37(n,1).onResize(t)&&e),e},on,wt)),cn._21(1,114688,null,0,ft,[Zn,mn,Xl,kn.a,kn.k,qn.d,pn.c],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),St=[[""]],Mt=cn._20({encapsulation:0,styles:St,data:{}}),kt=cn._18("app-delete-map-dialog",Qn,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-delete-map-dialog",[],null,null,null,un,Mt)),cn._21(1,114688,null,0,Qn,[Zn,kn.k,cl.j],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),Pt=[[""]],jt=cn._20({encapsulation:0,styles:Pt,data:{}}),Ct=cn._18("app-mapname-dialog",nl,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-mapname-dialog",[],null,null,null,rn,jt)),cn._21(1,114688,null,0,nl,[cl.j,cl.a,Zn],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),It=[[""]],Ft=cn._20({encapsulation:0,styles:It,data:{}}),qt=cn._18("app-publish-map-dialog",ll,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-publish-map-dialog",[],null,null,null,an,Ft)),cn._21(1,114688,null,0,ll,[Zn,cl.j],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),Rt=[["#spacer[_ngcontent-%COMP%]{height:80px}"]],Tt=cn._20({encapsulation:0,styles:Rt,data:{}}),Lt=cn._18("app-root",xn,function(n){return cn._43(0,[(n()(),cn._23(0,0,null,null,1,"app-root",[],null,null,null,sn,Tt)),cn._21(1,114688,null,0,xn,[vn],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),Dt=t("f9zQ"),Et=t("fL27"),At=t("EyWH"),zt=t("1ini"),Gt=t("ppgG"),Nt=t("LT5m"),$t=t("hK8s"),Ut=t("/RbK"),Vt=t("/+Yr"),Bt=t("tcGV"),Wt=t("gDV7"),Yt=function(){function n(n,l,t){this.userSvc=n,this.modelSvc=l,this.router=t}return n.prototype.canActivate=function(n,l){var t=this;if(n.data.requireLogin){if(n.data.requireWritePerm){if("new"===n.params.mapId)return this.userSvc.isLoggedIn;var e=Number.parseInt(n.params.mapId);return this.userSvc.loaded?this.modelSvc.maps[e]?1===this.modelSvc.maps[e].permission:this.modelSvc.loadMapList().map(function(n){if(n)return t.modelSvc.maps[e]&&1===t.modelSvc.maps[e].permission}):(this.router.navigate(["/map",n.params.mapId]),!1)}return this.userSvc.isLoggedIn}return!0},n.prototype.canDeactivate=function(n,l,t,e){return!n.canDeactivateComponent||n.canDeactivateComponent()},n.ctorParameters=function(){return[{type:vn},{type:Zn},{type:kn.k}]},n}(),Jt=t("CZgk"),Kt=t("kMVV"),Xt=t("3uJi"),Ht=t("4+t2"),Zt=t("0bRs"),Qt=t("c4k3"),ne=t("697t"),le=t("9Rbf"),te=t("rex9"),ee=t("ZycJ"),oe=cn._19(fn,[xn],function(n){return cn._34([cn._35(512,cn.m,cn._15,[[8,[wn.a,On.a,Sn.a,Sn.b,Ml,Ot,kt,Ct,qt,Lt]],[3,cn.m],cn.H]),cn._35(5120,cn.D,cn._33,[[3,cn.D]]),cn._35(4608,Rn.l,Rn.k,[cn.D]),cn._35(5120,cn.c,cn._24,[]),cn._35(5120,cn.B,cn._30,[]),cn._35(5120,cn.C,cn._31,[]),cn._35(4608,pn.c,pn.t,[Rn.c]),cn._35(6144,cn.U,null,[pn.c]),cn._35(4608,pn.f,_n,[]),cn._35(5120,pn.d,function(n,l,t,e){return[new pn.l(n),new pn.p(l),new pn.o(t,e)]},[Rn.c,Rn.c,Rn.c,pn.f]),cn._35(4608,pn.e,pn.e,[pn.d,cn.J]),cn._35(135680,pn.n,pn.n,[Rn.c]),cn._35(4608,pn.m,pn.m,[pn.e,pn.n]),cn._35(5120,Dt.a,Et.d,[]),cn._35(5120,Dt.c,Et.e,[]),cn._35(4608,Dt.b,Et.c,[Dt.a,Dt.c]),cn._35(5120,cn.S,Et.f,[pn.m,Dt.b,cn.J]),cn._35(6144,pn.q,null,[pn.n]),cn._35(4608,cn._1,cn._1,[cn.J]),cn._35(4608,pn.h,pn.h,[Rn.c]),cn._35(4608,pn.j,pn.j,[Rn.c]),cn._35(4608,jl.n,jl.n,[]),cn._35(4608,gn.c,gn.c,[]),cn._35(4608,gn.g,gn.b,[]),cn._35(5120,gn.i,gn.j,[]),cn._35(4608,gn.h,gn.h,[gn.c,gn.g,gn.i]),cn._35(4608,gn.f,gn.a,[]),cn._35(5120,gn.d,gn.k,[gn.h,gn.f]),cn._35(4608,At.b,Et.b,[cn.S,pn.b]),cn._35(6144,zn.b,null,[pn.b]),cn._35(4608,zn.c,zn.c,[[2,zn.b]]),cn._35(4608,Cn.a,Cn.a,[]),cn._35(5120,ml.c,ml.a,[[3,ml.c],cn.J,Cn.a]),cn._35(5120,ml.g,ml.f,[[3,ml.g],Cn.a,cn.J,ml.c]),cn._35(4608,An.g,An.g,[ml.c,ml.g]),cn._35(5120,An.d,An.j,[[3,An.d]]),cn._35(4608,An.m,An.m,[ml.g]),cn._35(4608,An.b,An.b,[An.g,An.d,cn.m,An.m,cn.g,cn.z,cn.J]),cn._35(5120,An.k,An.l,[An.b]),cn._35(5120,zt.a,zt.b,[An.b]),cn._35(4608,In.j,In.j,[Cn.a]),cn._35(4608,In.i,In.i,[In.j,Cn.a,cn.J]),cn._35(136192,In.e,In.c,[[3,In.e],Cn.a]),cn._35(5120,In.n,In.m,[[3,In.n],[2,In.k],Cn.a]),cn._35(5120,In.h,In.f,[[3,In.h],cn.J,Cn.a]),cn._35(5120,gt.c,gt.d,[[3,gt.c]]),cn._35(5120,cl.b,cl.c,[An.b]),cn._35(4608,cl.d,cl.d,[An.b,cn.z,[2,Rn.f],cl.b,[3,cl.d]]),cn._35(5120,Ln.b,Ln.g,[An.b]),cn._35(5120,qn.d,qn.a,[[3,qn.d],[2,gn.d],pn.c]),cn._35(4608,Gt.a,Gt.a,[]),cn._35(4608,Pn.e,Pn.e,[]),cn._35(5120,hl.a,hl.b,[An.b]),cn._35(4608,Nt.b,Nt.b,[An.b,In.n,cn.z,[3,Nt.b]]),cn._35(4608,$t.a,$t.a,[cn.J]),cn._35(4608,Ut.a,Ut.a,[Vt.a]),cn._35(4608,Bt.a,Bt.a,[Ut.a,$t.a]),cn._35(4608,Wt.b,Wt.a,[$t.a,Ut.a]),cn._35(5120,ut.a,ut.b,[An.b]),cn._35(5120,kn.a,kn.v,[kn.k]),cn._35(4608,kn.d,kn.d,[]),cn._35(6144,kn.f,null,[kn.d]),cn._35(135680,kn.o,kn.o,[kn.k,cn.G,cn.k,cn.z,kn.f]),cn._35(4608,kn.e,kn.e,[]),cn._35(5120,kn.h,kn.y,[kn.w]),cn._35(5120,cn.b,function(n){return[n]},[kn.h]),cn._35(4608,mn,mn,[Nt.b]),cn._35(4608,bn,bn,[gn.d,mn]),cn._35(4608,vn,vn,[bn]),cn._35(4608,Zn,Zn,[bn,mn,vn]),cn._35(4608,Xl,Xl,[Zn]),cn._35(4608,Yt,Yt,[vn,Zn,kn.k]),cn._35(4608,al,al,[Zn,kn.k,mn]),cn._35(512,Rn.b,Rn.b,[]),cn._35(1024,cn.r,pn.r,[]),cn._35(1024,cn.I,function(){return[kn.s()]},[]),cn._35(512,kn.w,kn.w,[cn.z]),cn._35(1024,cn.d,function(n,l,t){return[pn.s(n,l),kn.x(t)]},[[2,pn.i],[2,cn.I],kn.w]),cn._35(512,cn.e,cn.e,[[2,cn.d]]),cn._35(131584,cn._22,cn._22,[cn.J,cn._16,cn.z,cn.r,cn.m,cn.e]),cn._35(2048,cn.g,null,[cn._22]),cn._35(512,cn.f,cn.f,[cn.g]),cn._35(512,pn.a,pn.a,[[3,pn.a]]),cn._35(512,jl.m,jl.m,[]),cn._35(512,jl.e,jl.e,[]),cn._35(512,gn.e,gn.e,[]),cn._35(1024,kn.r,kn.t,[[3,kn.k]]),cn._35(512,kn.q,kn.c,[]),cn._35(512,kn.b,kn.b,[]),cn._35(512,Rn.g,Rn.d,[Rn.r,[2,Rn.a]]),cn._35(512,Rn.f,Rn.f,[Rn.g]),cn._35(512,cn.k,cn.k,[]),cn._35(512,cn.G,cn.Y,[cn.k,[2,cn.Z]]),cn._35(1024,kn.i,function(){return[[{path:"",component:wl,pathMatch:"full"},{path:"map/:mapId",children:[{path:"",component:ft,pathMatch:"full",canActivate:[Yt],canDeactivate:[Yt],resolve:{resolved:al}},{path:"edit",component:ft,pathMatch:"full",canActivate:[Yt],canDeactivate:[Yt],resolve:{resolved:al},data:{requireLogin:!0,requireWritePerm:!0}},{path:"**",redirectTo:""}]},{path:"**",redirectTo:""}]]},[]),cn._35(256,kn.g,{},[]),cn._35(1024,kn.k,kn.u,[cn.g,kn.q,kn.b,Rn.f,cn.z,cn.G,cn.k,kn.i,kn.g,[2,kn.p],[2,kn.j]]),cn._35(512,kn.m,kn.m,[[2,kn.r],[2,kn.k]]),cn._35(512,Et.a,Et.a,[]),cn._35(512,Pn.c,Pn.c,[]),cn._35(512,zn.a,zn.a,[]),cn._35(256,Pn.g,!0,[]),cn._35(512,Pn.m,Pn.m,[[2,Pn.g]]),cn._35(512,Cn.b,Cn.b,[]),cn._35(512,Pn.y,Pn.y,[]),cn._35(512,Pn.w,Pn.w,[]),cn._35(512,Pn.t,Pn.t,[]),cn._35(512,Jt.f,Jt.f,[]),cn._35(512,ml.b,ml.b,[]),cn._35(512,An.e,An.e,[]),cn._35(512,zt.c,zt.c,[]),cn._35(512,In.a,In.a,[]),cn._35(512,jn.d,jn.d,[]),cn._35(512,mt.d,mt.d,[]),cn._35(512,bl.c,bl.c,[]),cn._35(512,cl.i,cl.i,[]),cn._35(512,Ln.e,Ln.e,[]),cn._35(512,En.b,En.b,[]),cn._35(512,qn.c,qn.c,[]),cn._35(512,Kt.a,Kt.a,[]),cn._35(512,ct.g,ct.g,[]),cn._35(512,Gt.b,Gt.b,[]),cn._35(512,Xt.a,Xt.a,[]),cn._35(512,Pn.o,Pn.o,[]),cn._35(512,_l.e,_l.e,[]),cn._35(512,Ht.a,Ht.a,[]),cn._35(512,Pl.c,Pl.c,[]),cn._35(512,Cl.b,Cl.b,[]),cn._35(512,Zt.a,Zt.a,[]),cn._35(512,Qt.m,Qt.m,[]),cn._35(512,ne.a,ne.a,[]),cn._35(512,hl.d,hl.d,[]),cn._35(512,Nt.e,Nt.e,[]),cn._35(512,le.a,le.a,[]),cn._35(512,te.a,te.a,[]),cn._35(512,ee.a,ee.a,[]),cn._35(512,ut.d,ut.d,[]),cn._35(512,fn,fn,[]),cn._35(256,Ln.a,{overlapTrigger:!0,xPosition:"after",yPosition:"below"},[]),cn._35(256,Vt.a,Vt.c,[])])});Object(cn._9)(),Object(pn.k)().bootstrapModuleFactory(oe).catch(function(n){return console.log(n)})},gFIY:function(n,l){function t(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="gFIY"}},[0]);